(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{281:function(e,t,n){},311:function(e,t,n){},45:function(e,t,n){},525:function(e,t,n){},540:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(36),s=n.n(c),i=(n(311),n(7)),o=n.n(i),u=n(8),l=n(11),d=n(55),p=n(46),j=n(16),b=n(10),f=n(552),h=n(301),O=n(287),x=n(542),m=n(543),y=n(550),v=n(559),g=n(51),w=n(561),k=n(562),C=n(304),S=n(26),T=n.n(S);function D(e,t){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/auth/login",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),n({type:"GET_ERRORS",message:e.t0.response.data.message,status:e.t0.response.status}),e.abrupt("return",{status:"false",error:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function I(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken"),n&&a){e.next=5;break}return e.abrupt("return",{status:"false",error:"Access Token / Refresh Token is missing"});case 5:return e.abrupt("return",T.a.get("/v1/auth/verify",{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}));case 8:return e.prev=8,e.t0=e.catch(0),t({type:"GET_ERRORS",message:e.t0.response.data.message,status:e.t0.response.status}),t({type:"AUTH_ERROR"}),e.abrupt("return",{status:e.t0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/auth/logout",t));case 4:return e.prev=4,e.t0=e.catch(0),n({type:"GET_ERRORS",message:e.t0.response.data.message,status:e.t0.response.status}),e.abrupt("return",{status:"false",error:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function U(e,t){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/auth/renewToken",t));case 4:e.prev=4,e.t0=e.catch(0),n({type:"GET_ERRORS",message:e.t0.response.data.message,status:e.t0.response.status});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}n(45);var A=n(1);var P=function(){var e=Object(p.g)(),t=Object(j.b)(),n=f.a.Title,r=Object(a.useState)({email:"",password:""}),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),S=Object(l.a)(d,2),T=S[0],E=S[1],I=function(e,t){h.a[e]({message:"Notification",description:t})};function N(){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={email:s.email,password:s.password},n.prev=1,E(!0),n.next=5,D(a);case 5:r=n.sent,localStorage.setItem("accessToken",r.data.accessToken),localStorage.setItem("refreshToken",r.data.token.refreshToken),localStorage.setItem("avatarFilename",r.data.data.avatarFilename),t({type:"SET_USER",value:r.data.data}),t({type:"VERIFIED_AUTHENTICATION",value:!0}),t({type:"LOGIN_SUCCESS"}),e.push("/dash"),n.next=21;break;case 15:n.prev=15,n.t0=n.catch(1),E(!1),I("error",n.t0.response.data.message),t({type:"GET_ERRORS",message:n.t0.response.data.message,status:n.t0.response.status}),t({type:"LOGIN_FAIL"});case 21:case"end":return n.stop()}}),n,null,[[1,15]])})))).apply(this,arguments)}var Y=function(){e.push("/forgotpassword")},U=function(){var e=Object(a.useState)([window.innerHeight,window.innerWidth]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){r([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}(),M=Object(l.a)(U,2),P=M[0],H=M[1];return P<=760&&H<=768?Object(A.jsxs)("div",{children:[" ",T?Object(A.jsx)(O.a,{className:"spinner"}):Object(A.jsx)("div",{style:{background:"#f2f2f2",minHeight:"200vh",minWidth:"100vh"},children:Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsx)(m.a,{children:Object(A.jsxs)(y.a,{style:{marginTop:"40%",width:"400px",alignItems:"center",justifyContent:"center",minHeight:"100vh"},name:"basic",initialValues:{remember:!0},onFinish:N,children:[Object(A.jsx)(n,{style:{fontFamily:"Bangla MN",fontWeight:"bolder",fontSize:"16.5px"},children:"VIRTUAL REASEARCH MANAGEMENT SYSTEM"}),Object(A.jsx)(y.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(A.jsx)(v.a,{placeholder:"Enter Email",prefix:Object(A.jsx)(w.a,{}),onChange:function(e){return i(Object(b.a)(Object(b.a)({},s),{},{email:e.target.value}))},value:s.email})}),Object(A.jsx)(y.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(A.jsx)(v.a.Password,{placeholder:"Enter password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return i(Object(b.a)(Object(b.a)({},s),{},{password:e.target.value}))},value:s.password})}),Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(g.a,{type:"link",style:{fontFamily:"Montserrat",color:"#000000",float:"right"},onClick:Y,children:" Forgot your password?"})}),Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(g.a,{block:!0,style:{background:"#A0BF85",borderRadius:"5px"},htmlType:"submit",children:"LOGIN"})})]})})})})]}):Object(A.jsx)("div",{children:T?Object(A.jsx)(O.a,{className:"spinner"}):Object(A.jsx)("div",{style:{background:"#f2f2f2",minHeight:"100vh"},children:Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsx)(m.a,{children:Object(A.jsxs)(y.a,{style:{marginTop:"40%"},name:"basic",initialValues:{remember:!0},onFinish:N,children:[Object(A.jsx)(n,{level:4,style:{fontFamily:"Bangla MN",fontWeight:"bolder"},children:"VIRTUAL REASEARCH MANAGEMENT SYSTEM"}),Object(A.jsx)(y.a.Item,{name:"email",rules:[{type:"email",required:!0}],children:Object(A.jsx)(v.a,{placeholder:"Enter Email",prefix:Object(A.jsx)(w.a,{}),onChange:function(e){return i(Object(b.a)(Object(b.a)({},s),{},{email:e.target.value}))},value:s.email})}),Object(A.jsx)(y.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(A.jsx)(v.a.Password,{placeholder:"Enter password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return i(Object(b.a)(Object(b.a)({},s),{},{password:e.target.value}))},value:s.password})}),Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(g.a,{type:"link",style:{fontFamily:"Montserrat",color:"#000000",float:"right"},onClick:Y,children:" Forgot your password?"})}),Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(g.a,{block:!0,style:{background:"#A0BF85",borderRadius:"5px"},htmlType:"submit",children:"LOGIN"})})]})})})})})},H=n(545),F=n(554),L=n(302),B=n(547),_=n(85),W=n.p+"static/media/logo.5372d2f7.png",G=n(563),J=n(564),z=function(){var e=Object(p.g)(),t=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/dash");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/account");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)("img",{alt:"",src:W,className:"logo"}),Object(A.jsxs)(_.a,{children:[Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(G.a,{}),className:"menu1",onClick:t,children:"Research"},"1"),Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(J.a,{}),className:"menu1",onClick:n,children:"Account"},"2")]})]})},V=n(555),q=function(){var e=Object(p.g)(),t=Object(j.b)(),n=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{R({refreshToken:localStorage.getItem("refreshToken"),accessToken:localStorage.getItem("accessToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t({type:"VERIFIED_AUTHENTICATION",value:!1}),e.push("/")}catch(a){console.error(a),alert(a.response.data.error)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(A.jsx)("div",{children:Object(A.jsx)(V.a,{onBack:function(){return window.history.back()},title:"Studies",extra:Object(A.jsx)(g.a,{type:"link",onClick:n,style:{float:"right",color:"black",fontFamily:"Montserrat"},children:"Logout"})})})};function X(e){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/createstudy",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function $(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/getStudyForUser",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/updateSummary",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/updateIntroduction",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/updateMethodology",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/updateResultsAndDiscussion",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/updateConclusion",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ue(e){return le.apply(this,arguments)}function le(){return(le=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/getDocumentation",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/getStudyforDoc",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function je(e){return be.apply(this,arguments)}function be(){return(be=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/addDatagrid",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function fe(e){return he.apply(this,arguments)}function he(){return(he=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/getDataGrid",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Oe(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/editDataGrid",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function me(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/deleteDataGrid",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/updateDataGrid",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function we(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/studyForProject",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Ce(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/downloadHistory",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Te(e){return De.apply(this,arguments)}function De(){return(De=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/getdownloadHistory",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Ee(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/studies/deleteStudy",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}var Ne=n(25),Re=n.n(Ne),Ye=n(565),Ue=function(){var e=Object(p.g)(),t=Object(j.b)(),n=_.a.SubMenu,a=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{R({refreshToken:localStorage.getItem("refreshToken"),accessToken:localStorage.getItem("accessToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t({type:"VERIFIED_AUTHENTICATION",value:!1}),e.push("/")}catch(c){a="error",r=c.response.data.error,h.a[a]({message:"Notification",description:r})}case 1:case"end":return n.stop()}var a,r}),n)})));return function(){return n.apply(this,arguments)}}(),r=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/dash");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/account");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(A.jsxs)("div",{style:{background:"white",height:"50px",minWidth:"100vh"},children:[Object(A.jsx)("div",{style:{float:"left"},children:Object(A.jsx)(_.a,{triggerSubMenuAction:"click",children:Object(A.jsxs)(n,{icon:Object(A.jsx)(Ye.a,{}),children:[Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(J.a,{}),onClick:c,children:"Account"},"1"),Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(G.a,{}),onClick:r,children:"Research"},"2"),Object(A.jsx)(_.a.Item,{onClick:a,children:"Logout"},"3")]},"sub1")})}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(A.jsxs)("div",{style:{display:"flex",marginTop:"5px",alignItems:"center"},children:[Object(A.jsx)("img",{alt:"",src:W,style:{width:"40px",height:"40px"}}),Object(A.jsx)("h3",{children:"Virtual Research Management System"})]})})]})},Me=n(148),Ae=n(65),Pe=n(556);function He(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/project/createproject",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Le(){return Be.apply(this,arguments)}function Be(){return(Be=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.get("/v1/project/getAllProject",{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function _e(e){return We.apply(this,arguments)}function We(){return(We=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/project/getProjectforManager",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Ge(e){return Je.apply(this,arguments)}function Je(){return(Je=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/project/deleteProject",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ze(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/user/secretcreateuser",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),n({type:"GET_ERRORS",message:e.t0.response.data.message,status:e.t0.response.status}),e.abrupt("return",{status:"false",error:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function qe(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/user/updatepassword",t,{headers:{"Content-Type":"application/json"}}));case 4:e.prev=4,e.t0=e.catch(0),n({type:"GET_ERRORS",message:e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?e.t0.response.data.message:"Server is having an issue right now, Please try again later.",status:e.t0.response.status});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Ke(e,t){return $e.apply(this,arguments)}function $e(){return($e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/user/forgotpassword",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),n({type:"GET_ERRORS",message:e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?e.t0.response.data.message:"Server is having an issue right now, Please try again later.",status:e.t0.response.status}),e.abrupt("return",{status:"false",error:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Qe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.get("/v1/user/reset-password/".concat(t),{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/user/reset-password/".concat(t),n,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function nt(){return at.apply(this,arguments)}function at(){return(at=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.get("/v1/user/getAllUser",{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function rt(){return ct.apply(this,arguments)}function ct(){return(ct=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.get("/v1/user/getAllManager",{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}var st=function(){var e=Object(p.g)(),t=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/dash");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/account");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(A.jsxs)("div",{children:[Object(A.jsx)("img",{alt:"",src:W,className:"logo"}),Object(A.jsxs)(_.a,{children:[Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(G.a,{}),className:"menu1",onClick:t,children:"Project"},"1"),Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(J.a,{}),className:"menu1",onClick:n,children:"Account"},"2")]})]})},it=function(){var e=Object(p.g)(),t=Object(j.b)(),n=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{R({refreshToken:localStorage.getItem("refreshToken"),accessToken:localStorage.getItem("accessToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t({type:"VERIFIED_AUTHENTICATION",value:!1}),e.push("/")}catch(a){console.error(a),alert(a.response.data.error)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(A.jsx)("div",{children:Object(A.jsx)(V.a,{onBack:function(){return window.history.back()},title:"Projects",extra:Object(A.jsx)(g.a,{type:"link",onClick:n,style:{float:"right",color:"black",fontFamily:"Montserrat"},children:"Logout"})})})},ot=function(){var e=Object(p.g)(),t=Object(j.b)(),n=_.a.SubMenu,a=function(){var n=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{R({refreshToken:localStorage.getItem("refreshToken"),accessToken:localStorage.getItem("accessToken")}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t({type:"VERIFIED_AUTHENTICATION",value:!1}),e.push("/")}catch(c){a="error",r=c.response.data.error,h.a[a]({message:"Notification",description:r})}case 1:case"end":return n.stop()}var a,r}),n)})));return function(){return n.apply(this,arguments)}}(),r=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/dash");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/account");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(A.jsxs)("div",{style:{background:"white",height:"50px",minWidth:"100vh"},children:[Object(A.jsx)("div",{style:{float:"left"},children:Object(A.jsx)(_.a,{triggerSubMenuAction:"click",children:Object(A.jsxs)(n,{icon:Object(A.jsx)(Ye.a,{}),children:[Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(J.a,{}),onClick:c,children:"Account"},"1"),Object(A.jsx)(_.a.Item,{icon:Object(A.jsx)(G.a,{}),onClick:r,children:"Projects"},"2"),Object(A.jsx)(_.a.Item,{onClick:a,children:"Logout"},"3")]},"sub1")})}),Object(A.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(A.jsxs)("div",{style:{display:"flex",marginTop:"5px",alignItems:"center"},children:[Object(A.jsx)("img",{alt:"",src:W,style:{width:"40px",height:"40px"}}),Object(A.jsx)("h3",{children:"Virtual Research Management System"})]})})]})},ut=n(52),lt=n(544),dt=function(e){var t=Object(j.b)(),n=Object(p.g)(),r=Object(j.c)((function(e){return e.user})),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],d=s[1],b=Object(a.useState)(!1),f=Object(l.a)(b,2),x=f[0],m=f[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,_e({user:r.USER.name});case 3:for(t=e.sent,n=t.data,a=[],c=0;c<n.length;c++)a.push({key:n[c],projectID:n[c].projectID,projectLeader:[n[c].assignee],projectName:n[c].projectName,dateCreated:Re()(n[c].dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(n[c].dateUpdated).format("MM-DD-YYYY"),progress:n[c].progress});d(a),m(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r.USER.name]),Object(a.useEffect)((function(){null!==e.data&&void 0!==e.data&&""!==e.data&&d([].concat(Object(ut.a)(i),[{key:i.length+1,projectID:e.data.projectID,projectLeader:[e.data.assignee],projectName:e.data.projectName,dateCreated:Re()(e.data.dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(e.data.dateUpdated).format("MM-DD-YYYY"),progress:e.data.progress}]))}),[e.data]);var y=function(e){var t=i.filter((function(t){return t.key!==e}));d(t)},v=[{title:"Project ID",dataIndex:"projectID",key:"projectID",width:"10%",defaultSortOrder:"descend",sorter:function(e,t){return e.studyno-t.studyno}},{title:"Date Created",dataIndex:"dateCreated",key:"dateCreated",width:"15%"},{title:"Project Leader",dataIndex:"projectLeader",key:"projectLeader",width:"15%",render:function(e){return Object(l.a)(e,1)[0].map((function(e){return Object(A.jsx)("div",{style:{display:"grid"},children:Object(A.jsx)("p",{children:e})})}))}},{title:"Project Name",dataIndex:"projectName",key:"projectName",width:"25%",ellipsis:!0},{title:"Progress",dataIndex:"progress",key:"progress",width:"15%",render:function(e){return Object(A.jsx)(F.a,{percent:e,size:"small"})}},{title:"Action",dataIndex:"action",key:"action",width:"20%",render:function(e,a,r){return Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5px"},children:[Object(A.jsx)(g.a,{onClick:function(e){t({type:"SET_PROJECT",value:a}),n.push("/studies")},className:"manageBtn",children:"MANAGE"}),Object(A.jsx)(lt.a,{title:"Sure to delete?",onConfirm:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={_id:a.key._id},e.next=3,Ge(n);case 3:return r=e.sent,e.next=6,y(a.key);case 6:t="error",c=r.data.message,h.a[t]({message:"Notification",description:c});case 7:case"end":return e.stop()}var t,c}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(A.jsx)(g.a,{danger:!0,children:"DELETE"})})]})}}];return Object(A.jsx)("div",{children:x?Object(A.jsx)(O.a,{className:"spinner"}):Object(A.jsx)(B.a,{size:"small",scroll:{x:1500,y:500},dataSource:i,columns:v,style:{margin:"15px"}})})},pt=H.a.Header,jt=H.a.Content,bt=H.a.Sider,ft=function(){var e=Me.a.Option,t=Object(j.c)((function(e){return e.user})),n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)({projectName:"",assignee:"",user:t.USER.name}),d=Object(l.a)(i,2),p=d[0],f=d[1],O=Object(a.useState)(!1),m=Object(l.a)(O,2),w=m[0],k=m[1],C=Object(a.useState)(),S=Object(l.a)(C,2),T=S[0],D=S[1];var E=function(e,t){h.a[e]({message:"Notification",description:t})};function I(){return(I=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He(p);case 3:t=e.sent,E("success",t.data.message),f({projectName:"",assignee:""}),D(t.data.newProject),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E("error",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt();case 2:for(t=e.sent,n=t.data,a=[],r=0;r<n.length;r++)a.push({key:n[r].name,name:n[r].name,value:n[r].name});s(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(A.jsx)("div",{children:Object(A.jsxs)(H.a,{children:[Object(A.jsx)(bt,{className:"sidebar",children:Object(A.jsx)(st,{})}),Object(A.jsxs)(H.a,{children:[Object(A.jsx)(pt,{className:"header",style:{padding:0,background:"#f2f2f2"},children:Object(A.jsx)(it,{})}),Object(A.jsx)("div",{className:"mobile-header",children:Object(A.jsx)(ot,{})}),Object(A.jsxs)(jt,{style:{minHeight:"200vh",minWidth:"100vh",background:"#f2f2f2"},children:[Object(A.jsx)(dt,{data:T}),Object(A.jsx)(Ae.a,{placement:"top",title:"Add Study",children:Object(A.jsx)(g.a,{className:"add-button",onClick:function(){k(!0)},children:"+"})}),Object(A.jsx)(Pe.a,{title:"Add Project",visible:w,onOk:function(){k(!1)},onCancel:function(){k(!1)},children:Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsxs)(y.a,{onFinish:function(){return I.apply(this,arguments)},children:[Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Please input project name!"}],children:Object(A.jsx)(v.a,{placeholder:"Enter Project Name",onChange:function(e){return f(Object(b.a)(Object(b.a)({},p),{},{projectName:e.target.value}))},value:p.projectName})}),Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Please assign the project!"}],children:Object(A.jsx)(Me.a,{mode:"tags",style:{width:"100%"},onChange:function(e){f(Object(b.a)(Object(b.a)({},p),{},{assignee:e}))},tokenSeparators:[","],placeholder:"Assign Project",children:c.map((function(t){return Object(A.jsx)(e,{value:t.value,children:t.name},t.key)}))})}),Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsx)(g.a,{htmlType:"submit",block:!0,style:{background:"#A0BF85",borderRadius:"5px"},children:"CREATE PROJECT"})})]})})})]})]})]})})},ht=H.a.Header,Ot=H.a.Content,xt=H.a.Sider,mt=function(){var e=Object(j.b)(),t=Object(p.g)(),n=Object(j.c)((function(e){return e.user})),r=Object(a.useState)([]),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),b=Object(l.a)(d,2),f=b[0],h=b[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(n.USER);case 2:for(t=e.sent,h(!0),a=t.data,r=[],c=0;c<a.length;c++)r.push({key:a[c],title:a[c].studyTitle,studyID:a[c].studyID,dateCreated:Re()(a[c].dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(a[c].dateUpdated).format("MM-DD-YYYY"),progress:a[c].progress,status:[a[c].status]});i(r),h(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]);var x=[{title:"Study ID",dataIndex:"studyID",key:"studyID",width:"10%",defaultSortOrder:"descend",sorter:function(e,t){return e.studyno-t.studyno}},{title:"Date Created",dataIndex:"dateCreated",key:"dateCreated",width:"10%"},{title:"Updated",dataIndex:"dateUpdated",key:"dateUpdated",width:"10%"},{title:"Title",dataIndex:"title",key:"title",width:"25%",ellipsis:!0},{title:"Progress",dataIndex:"progress",key:"progress",width:"15%",render:function(){return Object(A.jsx)(F.a,{percent:s.progress,size:"small"})}},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Completed",value:"COMPLETED"},{text:"Ongoing",value:"ONGOING"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},width:"15%",render:function(e){return Object(A.jsx)("span",{children:e.map((function(e){var t="Ongoing"===e?"geekblue":"green";return Object(A.jsx)(L.a,{color:t,children:e.toUpperCase()},e)}))})}},{title:"Action",dataIndex:"action",key:"action",width:"15%",render:function(n,a,r){return Object(A.jsx)(g.a,{onClick:function(n){e({type:"SET_STUDY",value:a}),t.push("/datagrid")},className:"manageBtn",children:"MANAGE"})}}];return Object(A.jsx)("div",{children:"user"===n.USER.category?Object(A.jsxs)(H.a,{children:[Object(A.jsx)(xt,{className:"sidebar",children:Object(A.jsx)(z,{})}),Object(A.jsxs)(H.a,{children:[Object(A.jsx)(ht,{className:"header",style:{padding:0,background:"#f2f2f2"},children:Object(A.jsx)(q,{})}),Object(A.jsx)("div",{className:"mobile-header",children:Object(A.jsx)(Ue,{})}),Object(A.jsx)(Ot,{style:{minHeight:"200vh",minWidth:"100vh",background:"#f2f2f2"},children:f?Object(A.jsx)(O.a,{className:"spinner"}):Object(A.jsx)(B.a,{size:"small",scroll:{x:1500,y:500},dataSource:s,columns:x,style:{margin:"15px"}})})]})]}):Object(A.jsx)(ft,{})})},yt=f.a.Title,vt=function(){var e=Object(j.c)((function(e){return e.study}));return Object(A.jsxs)("div",{className:"label-hidden",children:[Object(A.jsx)(yt,{level:3,className:"label-header",children:e.STUDY.key.studyTitle}),Object(A.jsxs)("div",{style:{textAlign:"right",position:"relative"},children:[Object(A.jsx)("div",{className:"div-inline-block",children:Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsx)("label",{children:"Last Updated: "}),Object(A.jsx)("p",{children:Re()(e.STUDY.key.dateUpdated).format("MM-DD-YYYY HH:MM:SS")})]}),Object(A.jsx)("div",{children:Object(A.jsxs)("label",{children:["@",e.STUDY.key.updatedBy]})}),Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsx)("label",{children:"Deadline:  "}),Object(A.jsx)("p",{children:Re()(e.STUDY.key.deadline).format("MM-DD-YYYY HH:MM:SS")})]})]})}),Object(A.jsxs)("div",{className:"progress-label",children:[Object(A.jsx)(F.a,{percent:e.STUDY.key.progress,size:"small",style:{maxWidth:"150px"}}),Object(A.jsx)(g.a,{style:{background:"#A0BF85",borderRadius:"50px"},children:e.STUDY.key.status})]})]})]})},gt=n(551),wt=n(40),kt=n(93),Ct=n(571),St=n(572),Tt=n(570),Dt=n(303),Et=n(89),It=n(566),Nt=n(567),Rt=n(568),Yt=n(569);function Ut(e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/upload/avatar",t,{headers:{"Content-Type":"multipart/form-data"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function At(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/upload/datagrid",t,{headers:{"Content-Type":"multipart/form-data"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{status:"false",error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}var Ht=function(e){var t=Me.a.Option,n=Object(j.c)((function(e){return e.study})),c=Object(j.c)((function(e){return e.user})),s=Object(a.useState)(!1),i=Object(l.a)(s,2),d=i[0],p=i[1],f=Object(a.useState)(),x=Object(l.a)(f,2),m=x[0],y=x[1],w=Object(a.useState)(),k=Object(l.a)(w,2),C=k[0],S=k[1],T=Object(a.useState)([]),D=Object(l.a)(T,2),E=D[0],I=D[1],N=Object(a.useState)("none"),R=Object(l.a)(N,2),Y=R[0],U=R[1],M=Object(a.useState)([]),P=Object(l.a)(M,2),H=P[0],F=P[1],L=Object(a.useState)(),B=Object(l.a)(L,2),_=B[0],W=B[1],G=Object(a.useState)(!0),J=Object(l.a)(G,2),z=J[0],V=J[1],q=Object(a.useState)(),X=Object(l.a)(q,2),K=X[0],$=X[1],Q=Object(a.useState)([]),Z=Object(l.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(!1),ae=Object(l.a)(ne,2),re=ae[0],ce=ae[1],se=Object(a.useState)(),ie=Object(l.a)(se,2),oe=ie[0],ue=ie[1],le=Object(a.useState)(3e3),de=Object(l.a)(le,2),pe=de[0],je=(de[1],Object(a.useMemo)((function(){return ee}),[ee])),be=Object(a.useState)(!1),fe=Object(l.a)(be,2),he=fe[0],xe=fe[1],me=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),ye=function(e,t){h.a[e]({message:"Notification Title",description:t})},ge=function(e,t){switch(e){case"Checkbox":return Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(t,wt.checkboxColumn)),{},{title:t,type:"Checkbox"});case"text":return Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(t,wt.textColumn)),{},{title:t,type:"text"});case"camera":return Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(t,we)),{},{title:t,type:"camera"});default:return Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(t,wt.textColumn)),{},{title:t,type:"text"})}},we={component:r.a.memo((function(e){var t=e.rowData,n=e.setRowData;return Object(A.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(A.jsx)("div",{children:Object(A.jsx)(g.a,{value:t,children:Object(A.jsxs)("label",{className:"file_input_id",children:[Object(A.jsx)(It.a,{}),Object(A.jsx)("input",{type:"file",accept:"image/*",onChange:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("file",a),e.next=5,At(r);case 5:c=e.sent,n(c.data.filename),ye("info",c.data.message);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})})}),Object(A.jsxs)("div",{children:["  ",Object(A.jsx)(g.a,{onClick:function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(t),Ce();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(A.jsx)(Nt.a,{})})]})]})})),deleteValue:function(){return""},copyValue:function(e){return e.rowData},pasteValue:function(e){return e.value}},ke=Object(a.useCallback)((function(){return{}}),[]);Object(a.useEffect)((function(){var e=setTimeout((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:c.USER.name,title:m,description:C,studyID:n.STUDY.studyID,data:E,columns:je},xe(!0),e.next=4,ve(t);case 4:a=e.sent,ye("success",a.data.message),xe(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),pe);return function(){return clearTimeout(e)}}),[E,m,C,je]),Object(a.useEffect)((function(){try{var t=function(){var t=Object(u.a)(o.a.mark((function t(){var n,a,r,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.next=3,Oe(e.data.id);case 3:for(n=t.sent,a=n.data,r=[],c=0;c<a.length;c++){for(y(a[c].title),S(a[c].description),I(a[c].data),s=0;s<a[c].columns.length;s++)r.push(ge(a[c].columns[s].type,a[c].columns[s].title));te(r)}U(e.data.display),p(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(void 0===e.data||null===e.data||""===e.data)return;t()}catch(n){ye("error","There is something wrong! Unable to display data!")}}),[e.data]),Object(a.useEffect)((function(){!function(){for(var e=[],t=0;t<je.length;t++)e.push({key:je[t].title,name:je[t].title,value:je[t].title});F(e)}()}),[ee,je]),Object(a.useEffect)((function(){V(void 0===_||""===_)}),[_]);var Ce=function(){ce(!0)};function Se(){return(Se=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:c.USER.name,title:m,description:C,studyID:n.STUDY.studyID,data:E,columns:je},xe(!0),e.next=4,ve(t);case 4:a=e.sent,ye("success",a.data.message),xe(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(u.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",(n=Object.keys(E[0])).forEach((function(e){t+=e+","})),t+="\n",E.forEach((function(e){n.forEach((function(n){t+=e[n]+","})),t+="\n"})),a=document.createElement("a"),r=new Blob([t],{type:"data:text/csv;charset=utf-8"}),a.href=URL.createObjectURL(r),a.download="".concat(m,".csv"),document.body.appendChild(a),a.click(),ye("success","Downloaded!");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsx)("div",{children:Object(A.jsxs)("div",{style:{display:Y,marginTop:"20px"},children:[Object(A.jsx)("h1",{style:{fontFamily:"Montserrat",fontSize:"20px"},children:"Edit Table"}),Object(A.jsxs)("div",{className:"add-grid",children:[Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Table Title"}),Object(A.jsx)(v.a,{placeholder:"Input table title",onChange:function(e){y(e.target.value)},value:m})]}),Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Table Description"}),Object(A.jsx)(v.a,{placeholder:"Enter table description",onChange:function(e){S(e.target.value)},value:C})]}),Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Column Title"}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"3px"},children:[Object(A.jsx)(v.a,{placeholder:"Enter Column title",onChange:function(e){W(e.target.value)},value:_}),Object(A.jsx)(Ae.a,{placement:"top",title:"Text Column",children:Object(A.jsx)(g.a,{disabled:z,onClick:function(){te([].concat(Object(ut.a)(je),[Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(_,wt.textColumn)),{},{title:_,type:"text"})])),W("")},children:Object(A.jsx)(Rt.a,{})})}),Object(A.jsx)(Ae.a,{placement:"top",title:"Checkbox Column",children:Object(A.jsx)(g.a,{disabled:z,onClick:function(){te([].concat(Object(ut.a)(je),[Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(_,wt.checkboxColumn)),{},{title:_,type:"Checkbox"})])),W("")},children:Object(A.jsx)(Yt.a,{})})}),Object(A.jsx)(Ae.a,{placement:"top",title:"Camera Column",children:Object(A.jsx)(g.a,{disabled:z,onClick:function(){te([].concat(Object(ut.a)(je),[Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(_,we)),{},{title:_,type:"camera"})])),W("")},children:Object(A.jsx)(It.a,{})})})]})]}),Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Delete Column "}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5px",width:"300px"},children:[Object(A.jsx)(Me.a,{placeholder:"Select column title to delete",onChange:function(e){$(e)},mode:"tags",tokenSeparators:[","],style:{width:"100%"},children:H.map((function(e){return Object(A.jsx)(t,{value:e.value,children:e.name},e.key)}))}),Object(A.jsx)(Ae.a,{placement:"top",title:"Delete Selected Column",children:Object(A.jsx)(g.a,{danger:!0,onClick:function(){return function(e){try{var t=je.filter((function(t){return!e.includes(t.title)}));te(t)}catch(n){ye("error",n)}}(K)},children:Object(A.jsx)(Tt.a,{})})}),Object(A.jsx)(Ae.a,{placement:"top",title:"Download table in CSV",children:Object(A.jsx)(g.a,{onClick:function(){return Te.apply(this,arguments)},children:Object(A.jsx)(Ct.a,{})})})]})]})]}),Object(A.jsxs)("div",{style:{marginTop:"20px"},children:[d?Object(A.jsxs)("div",{className:"spinner",children:[Object(A.jsx)(O.a,{indicator:me})," "]}):Object(A.jsxs)("div",{style:{opacity:he?.25:1,pointerEvents:he?"none":"initial"},children:[Object(A.jsx)(wt.DynamicDataSheetGrid,{data:E,onChange:I,columns:je,createRow:ke}),Object(A.jsx)(Pe.a,{title:"View Image",visible:re,onOk:function(){ce(!1)},onCancel:function(){ce(!1)},children:Object(A.jsx)("div",{style:{display:"grid"},children:Object(A.jsx)(gt.a,{src:"/datagrid/".concat(oe)})})})]}),Object(A.jsxs)("div",{style:{float:"right",rowGap:"0px",gap:"5px",display:"flex",marginTop:"20px"},children:[Object(A.jsx)(g.a,{type:"primary",onClick:function(){return Se.apply(this,arguments)},children:"Save"}),Object(A.jsx)(g.a,{danger:!0,onClick:function(){U("none")},children:"Exit"})]})]})]})})},Ft=function(e){var t=Object(j.c)((function(e){return e.study})),n=Object(j.c)((function(e){return e.user})),r=Object(a.useState)([]),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],x=Object(a.useState)(),m=Object(l.a)(x,2),v=m[0],w=m[1],k=Object(a.useState)(!1),C=Object(l.a)(k,2),S=C[0],T=C[1],D=Object(a.useState)([]),E=Object(l.a)(D,2),I=E[0],N=E[1],R=Object(a.useState)(!1),Y=Object(l.a)(R,2),U=Y[0],M=Y[1],P=function(e,t){h.a[e]({message:"Notification",description:t})},H=function(e){var t=s.filter((function(t){return t.key!==e}));i(t)},F=Object(a.useMemo)((function(){return s}),[s]);Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var n,a,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={studyID:t.STUDY.studyID},f(!0),e.next=4,fe(n);case 4:for(a=e.sent,r=a.data,c=[],s=0;s<r.length;s++)c.push({key:r[s],tableID:r[s].tableID,title:r[s].title,description:r[s].description,dateCreated:Re()(r[s].dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(r[s].dateUpdated).format("MM-DD-YYYY")});i(c),f(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.STUDY.studyID]);var L=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,Te({tableID:t._id});case 3:for(n=e.sent,a=n.data.history,r=[],c=0;c<a.length;c++)r.push({downloadedBy:a[c].downloadedBy,downloadDate:Re()(a[c].downloadDate).format("YYYY-MM-DD HH:mm:ss")});N(r),T(!0),M(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _(e){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(o.a.mark((function e(t){var n,a,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t[0].data,a="",(r=Object.keys(t[0].data[0])).forEach((function(e){a+=e+","})),a+="\n",n.forEach((function(e){r.forEach((function(t){a+=e[t]+","})),a+="\n"})),c=document.createElement("a"),s=new Blob([a],{type:"data:text/csv;charset=utf-8"}),c.href=URL.createObjectURL(s),c.download="".concat(t[0].title,".csv"),document.body.appendChild(c),c.click();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){if(null!=e.data){var n=function(){var e=Object(u.a)(o.a.mark((function e(){var n,a,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={studyID:t.STUDY.studyID},f(!0),e.next=4,fe(n);case 4:for(a=e.sent,r=a.data,c=[],s=0;s<r.length;s++)c.push({key:r[s],tableID:r[s].tableID,title:r[s].title,description:r[s].description,dateCreated:Re()(r[s].dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(r[s].dateUpdated).format("MM-DD-YYYY")});i(c),f(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i([].concat(Object(ut.a)(s),[{key:s.length+1,tableID:e.data.tableID,title:e.data.title,description:e.data.description,dateCreated:Re()(e.data.dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(e.data.dateUpdated).format("MM-DD-YYYY")}])),n()}}),[e.data,t.STUDY.studyID]);var G=[{title:"Table ID",width:"10%",dataIndex:"tableID",key:"tableID"},{title:"Title",width:"25%",dataIndex:"title",key:"title",ellipsis:!0},{title:"Description",width:"25%",dataIndex:"description",key:"description",ellipsis:!0},{title:"Date Created",width:"10%",dataIndex:"dateCreated",key:"dateCreated"},{title:"Date Updated",width:"10%",dataIndex:"dateUpdated",key:"dateUpdated"},{title:"Action",key:"operation",width:"20%",render:function(e,t,a){return Object(A.jsxs)(y.a,{style:{display:"flex",gap:"5px"},children:[Object(A.jsx)("div",{children:Object(A.jsx)(Ae.a,{title:"Download table in CSV",placement:"rightTop",children:Object(A.jsx)(g.a,{onClick:function(){var e=Object(u.a)(o.a.mark((function e(a){var r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={_id:t.key._id},e.next=3,Oe(r);case 3:return c=e.sent,_(c.data),e.next=8,Ce({user:n.USER.name,tableID:r});case 8:s=e.sent,P("info",s.data.message);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),icon:Object(A.jsx)(Ct.a,{})})})}),Object(A.jsx)(Ae.a,{title:"Edit table",placement:"rightTop",children:Object(A.jsx)(g.a,{onClick:function(){var e=Object(u.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={tableID:t.key.tableID},w({id:a,display:"block"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),icon:Object(A.jsx)(St.a,{})})}),Object(A.jsx)(Ae.a,{title:"Delete table",placement:"rightTop",children:Object(A.jsx)(lt.a,{title:"Sure to delete?",onConfirm:function(){var e=Object(u.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t.key._id},e.next=3,me(a);case 3:return e.next=5,H(t.key);case 5:P("error","Deleted");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(A.jsx)(g.a,{danger:!0,icon:Object(A.jsx)(Tt.a,{})})})}),Object(A.jsx)(Ae.a,{title:"View Download History",placement:"rightTop",children:Object(A.jsx)(g.a,{onClick:function(){var e={_id:t.key._id};L(e)},icon:Object(A.jsx)(Dt.a,{})})})]})}}];return Object(A.jsxs)("div",{style:{marginTop:"20px"},children:[b?Object(A.jsxs)("div",{className:"spinner",children:[Object(A.jsx)(O.a,{})," "]}):Object(A.jsx)("div",{children:Object(A.jsx)(B.a,{scroll:{x:1300,y:500},columns:G,dataSource:F})}),Object(A.jsx)(Ht,{data:v}),Object(A.jsx)(Pe.a,{title:"Add Study",visible:S,onOk:function(){T(!1)},onCancel:function(){T(!1)},children:U?Object(A.jsxs)("div",{className:"spinner",children:[Object(A.jsx)(O.a,{})," "]}):Object(A.jsx)("div",{children:0===I.length?Object(A.jsx)(kt.a,{}):Object(A.jsx)("div",{style:{justifyContent:"center",alignItems:"center",marginLeft:"20px"},children:Object(A.jsx)(B.a,{pagination:!1,scroll:{y:500},columns:[{title:"Downloader",width:"50%",dataIndex:"downloadedBy",key:"downloadedBy"},{title:"Download Date",width:"50%",dataIndex:"downloadDate",key:"downloadDate"}],dataSource:I})})})})]})},Lt=n(573),Bt=function(){var e=Me.a.Option,t=Object(j.c)((function(e){return e.study})),n=Object(j.c)((function(e){return e.user})),c=Object(a.useState)("none"),s=Object(l.a)(c,2),i=s[0],d=s[1],p=Object(a.useState)(),f=Object(l.a)(p,2),O=f[0],x=f[1],m=Object(a.useState)(),y=Object(l.a)(m,2),w=y[0],k=y[1],C=Object(a.useState)([]),S=Object(l.a)(C,2),T=S[0],D=S[1],E=Object(a.useState)([]),I=Object(l.a)(E,2),N=I[0],R=I[1],Y=Object(a.useState)(),U=Object(l.a)(Y,2),M=U[0],P=U[1],H=Object(a.useState)(!0),F=Object(l.a)(H,2),L=F[0],B=F[1],_=Object(a.useState)(),W=Object(l.a)(_,2),G=W[0],J=W[1],z=Object(a.useState)(!0),V=Object(l.a)(z,2),q=V[0],X=V[1],K=Object(a.useState)(),$=Object(l.a)(K,2),Q=$[0],Z=$[1],ee=Object(a.useState)([Object(b.a)(Object(b.a)({},Object(wt.keyColumn)("Checkbox",wt.checkboxColumn)),{},{title:"Checkbox",type:"Checkbox"})]),te=Object(l.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(!1),ce=Object(l.a)(re,2),se=ce[0],ie=ce[1],oe=Object(a.useState)(),ue=Object(l.a)(oe,2),le=ue[0],de=ue[1],pe=function(e,t){h.a[e]({message:"Notification Title",description:t})},be={component:r.a.memo((function(e){var t=e.rowData,n=e.setRowData;return Object(A.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(A.jsx)("div",{children:Object(A.jsx)(g.a,{value:t,children:Object(A.jsxs)("label",{className:"file_input_id",children:[Object(A.jsx)(It.a,{}),Object(A.jsx)("input",{type:"file",accept:"image/*",onChange:function(){var e=Object(u.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("file",a),e.next=5,At(r);case 5:c=e.sent,n(c.data.filename);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})})}),Object(A.jsxs)("div",{children:["  ",Object(A.jsx)(g.a,{onClick:function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de(t),xe();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(A.jsx)(Nt.a,{})})]})]})})),deleteValue:function(){return""},copyValue:function(e){return e.rowData},pasteValue:function(e){return e.value}},fe=Object(a.useMemo)((function(){return ne}),[ne]),he=Object(a.useCallback)((function(){return{}}),[]);Object(a.useEffect)((function(){!function(){for(var e=[],t=0;t<fe.length;t++)e.push({key:fe[t].title,name:fe[t].title,value:fe[t].title});R(e)}()}),[ne,fe]),Object(a.useEffect)((function(){B(void 0===M||""===M)}),[M]),Object(a.useEffect)((function(){X(void 0===O||""===O||void 0===w||""===w)}),[O,w]);function Oe(){return(Oe=Object(u.a)(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user:n.USER.name,title:O,description:w,studyID:t.STUDY.studyID,data:T,columns:ne},e.next=3,je(a);case 3:200===(r=e.sent).status?(Z(r.data.data),x(""),k(""),ae([Object(b.a)(Object(b.a)({},Object(wt.keyColumn)("Checkbox",wt.checkboxColumn)),{},{title:"Checkbox",type:"Checkbox"})]),D([]),pe("success",r.data.message),d("none")):pe("error",r.data.message);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=function(){ie(!0)};function me(){return(me=Object(u.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t="",(n=Object.keys(T[0])).forEach((function(e){t+=e+","})),t+="\n",T.forEach((function(e){n.forEach((function(n){t+=e[n]+","})),t+="\n"})),a=document.createElement("a"),r=new Blob([t],{type:"data:text/csv;charset=utf-8"}),a.href=URL.createObjectURL(r),a.download="".concat(O,".csv"),document.body.appendChild(a),a.click(),pe("success","Download sucessful!")}catch(c){pe("error","Download failed!")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsxs)("div",{children:[Object(A.jsx)(Ft,{data:Q}),Object(A.jsx)("div",{children:Object(A.jsx)(Ae.a,{placement:"top",title:"Add Table",children:Object(A.jsx)(g.a,{style:{background:"#A0BF85",marginTop:"15px"},onClick:function(){d("block")},icon:Object(A.jsx)(Lt.a,{}),children:"Add Table"})})}),Object(A.jsxs)("div",{style:{display:i},children:[Object(A.jsx)("h1",{style:{fontFamily:"Montserrat",fontSize:"20px"},children:"Add Table"}),Object(A.jsxs)("div",{className:"add-grid",children:[Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Table Title"}),Object(A.jsx)(v.a,{placeholder:"Input table title",onChange:function(e){x(e.target.value)},value:O})]}),Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Table Description"}),Object(A.jsx)(v.a,{placeholder:"Enter table description",onChange:function(e){k(e.target.value)},value:w})]}),Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Column Title"}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"3px"},children:[Object(A.jsx)(v.a,{placeholder:"Enter Column title",onChange:function(e){P(e.target.value)},value:M}),Object(A.jsx)(Ae.a,{placement:"top",title:"Text Column",children:Object(A.jsx)(g.a,{disabled:L,onClick:function(){ae([].concat(Object(ut.a)(fe),[Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(M,wt.textColumn)),{},{title:M,type:"text"})])),P("")},children:Object(A.jsx)(Rt.a,{})})}),Object(A.jsx)(Ae.a,{placement:"top",title:"Checkbox Column",children:Object(A.jsx)(g.a,{disabled:L,onClick:function(){ae([].concat(Object(ut.a)(fe),[Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(M,wt.checkboxColumn)),{},{title:M,type:"Checkbox"})])),P("")},children:Object(A.jsx)(Yt.a,{})})}),Object(A.jsx)(Ae.a,{placement:"top",title:"Camera Column",children:Object(A.jsx)(g.a,{disabled:L,onClick:function(){ae([].concat(Object(ut.a)(fe),[Object(b.a)(Object(b.a)({},Object(wt.keyColumn)(M,be)),{},{title:M,type:"camera"})])),P("")},children:Object(A.jsx)(It.a,{})})})]})]}),Object(A.jsx)("div",{style:{display:"grid"}}),Object(A.jsxs)("div",{style:{display:"grid"},children:[Object(A.jsx)("label",{style:{fontSize:"20px",fontFamily:"Montserrat"},children:"Delete Column "}),Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5px",width:"300px"},children:[Object(A.jsx)(Me.a,{placeholder:"Select column title to delete",onChange:function(e){J(e)},mode:"tags",tokenSeparators:[","],style:{width:"100%"},children:N.map((function(t){return Object(A.jsx)(e,{value:t.value,children:t.name},t.key)}))}),Object(A.jsx)(Ae.a,{placement:"top",title:"Delete Selected Column",children:Object(A.jsx)(g.a,{danger:!0,onClick:function(){return function(e){try{var t=fe.filter((function(t){return!e.includes(t.title)}));ae(t)}catch(n){pe("error",n)}}(G)},children:Object(A.jsx)(Tt.a,{})})}),Object(A.jsx)(Ae.a,{placement:"top",title:"Download table in CSV",children:Object(A.jsx)(g.a,{type:"primary",onClick:function(){return me.apply(this,arguments)},children:Object(A.jsx)(Ct.a,{})})})]})]})]}),Object(A.jsxs)("div",{style:{marginTop:"20px"},children:[Object(A.jsx)(wt.DynamicDataSheetGrid,{data:T,onChange:D,columns:fe,createRow:he}),Object(A.jsx)(Pe.a,{title:"View Image",visible:se,onOk:function(){ie(!1)},onCancel:function(){ie(!1)},children:Object(A.jsx)("div",{style:{display:"grid"},children:Object(A.jsx)(gt.a,{src:"/datagrid/".concat(le)})})}),Object(A.jsxs)("div",{style:{float:"right",rowGap:"0px",gap:"5px",display:"flex",marginTop:"20px"},children:[Object(A.jsx)(g.a,{type:"primary",disabled:q,onClick:function(){return Oe.apply(this,arguments)},children:"Create"}),Object(A.jsx)(g.a,{danger:!0,onClick:function(){d("none")},children:"Exit"})]})]})]})]})},_t=n(557);function Wt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/createtask",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Jt(e){return zt.apply(this,arguments)}function zt(){return(zt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/getUserForTask",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Vt(e){return qt.apply(this,arguments)}function qt(){return(qt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/getAllTask",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Xt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/getAllTaskManager",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function $t(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/postComment",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function Zt(e){return en.apply(this,arguments)}function en(){return(en=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/getAllComment",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/onUpdateTask",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function an(e){return rn.apply(this,arguments)}function rn(){return(rn=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/onUpdateTaskUser",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function cn(e){return sn.apply(this,arguments)}function sn(){return(sn=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",T.a.post("/v1/tasks/onDeleteTask",t,{headers:{"Content-Type":"application/json"}}));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}var on=n(546),un=n(297),ln=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(3),i=Object(l.a)(s,2),d=i[0],p=i[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),f=b[0],x=b[1],m=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),y=function(e,t){h.a[e]({message:"Notification Title",description:t})};function v(){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function t(){var n,a,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,Zt({taskId:e.data.task});case 3:for(n=t.sent,a=[],r=n.data.comments,s=0;s<r.length;s++)a.push({author:r[s].user,avatar:r[s].avatar,content:r[s].comment,date:r[s].dateCreated});c(a),x(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(d+2),v(),d>=r.length&&y("info","All comments already displayed!");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a,r,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zt({taskId:e.data.task});case 2:for(n=t.sent,a=[],r=n.data.comments,s=0;s<r.length;s++)a.push({key:r[s],author:r[s].user,avatar:r[s].avatar,content:r[s].comment,date:r[s].dateCreated});c(a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.data]),Object(A.jsx)("div",{children:f?Object(A.jsx)(O.a,{indicator:m,className:"spinner"}):Object(A.jsxs)("div",{children:[r.slice(0,d).map((function(e){return Object(A.jsx)(on.a,{author:Object(A.jsx)("p",{children:e.author}),avatar:Object(A.jsx)(un.a,{src:"/avatar/".concat(e.avatar),alt:e.author}),content:Object(A.jsx)("p",{children:e.content}),datetime:Object(A.jsx)(Ae.a,{title:Re()().format("YYYY-MM-DD HH:mm:ss"),children:Object(A.jsx)("span",{children:Re()(e.date).format("YYYY-MM-DD HH:mm:ss")})})})})),Object(A.jsx)("div",{id:"showComment",style:{display:"flex",justifyContent:"center"},children:Object(A.jsx)(g.a,{onClick:function(){return k.apply(this,arguments)},children:"load more"})})]})})},dn=function(e){var t=v.a.TextArea,n=Object(j.c)((function(e){return e.user})),r=Object(j.c)((function(e){return e.study})),c=localStorage.getItem("avatarFilename"),s=Object(a.useState)({comments:"",submitting:!1,value:"",author:"".concat(n.USER.name),avatar:c,datetime:Re()().fromNow()}),i=Object(l.a)(s,2),d=i[0],p=i[1],f=Object(a.useState)(),h=Object(l.a)(f,2),O=h[0],x=h[1],m={task:O};function w(){return(w=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t({taskID:O,comment:d,studyID:r.STUDY.studyID});case 2:t=e.sent,p(Object(b.a)(Object(b.a)({},d),{},{value:""})),m={task:O,result:t};case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){x(e.data)}),[e.data]),Object(A.jsxs)("div",{children:[Object(A.jsx)(ln,{data:m}),Object(A.jsx)(on.a,{avatar:Object(A.jsx)(un.a,{src:"/avatar/".concat(c),alt:n.USER.name}),content:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(t,{rows:4,onChange:function(e){return p(Object(b.a)(Object(b.a)({},d),{},{value:e.target.value}))},value:d.value})}),Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(g.a,{htmlType:"submit",loading:d.submitting,onClick:function(){return w.apply(this,arguments)},style:{background:"#A0BF85"},children:"Add Comment"})})]})})]})},pn=n(560),jn=n(548),bn=_t.a.Panel,fn=function(e){var t=Object(j.c)((function(e){return e.study})),n=Object(j.c)((function(e){return e.project})),r=Object(a.useState)([]),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),f=p[0],x=p[1],m=Object(a.useState)({task:"",length:3}),y=Object(l.a)(m,2),v=y[0],w=y[1],k=function(e,t){h.a[e]({message:"Notification Title",description:t})};function C(){return(C=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(s[t||0].id);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Xt({studyName:t.STUDY.title});case 3:for(n=e.sent,a=n.data.tasks,r=[],c=0;c<a.length;c++)r.push({key:[c],id:a[c]._id,createdBy:a[c].createdBy,dateCreated:Re()(a[c].dateCreated).format("MM-DD-YYYY HH:MM:SS"),lastUpdated:Re()(a[c].lastUpdated).format("MM-DD-YYYY HH:MM:SS"),deadline:Re()(a[c].deadline).format("MM-DD-YYYY HH:MM:SS"),taskTitle:a[c].tasksTitle,taskDescription:a[c].tasksDescription,assignee:a[c].assignee,status:a[c].status});i(r),x(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.STUDY.title]),Object(a.useEffect)((function(){if(null!=e.data){var n=e.data.newTask;i([].concat(Object(ut.a)(s),[{key:s.length+1,id:n._id,createdBy:n.createdBy,dateCreated:Re()(n.dateCreated).format("MM-DD-YYYY HH:MM:SS"),lastUpdated:Re()(n.lastUpdated).format("MM-DD-YYYY HH:MM:SS"),deadline:Re()(n.deadline).format("MM-DD-YYYY HH:MM:SS"),taskTitle:n.tasksTitle,taskDescription:n.tasksDescription,assignee:n.assignee,status:n.status}])),function(){a.apply(this,arguments)}()}function a(){return(a=Object(u.a)(o.a.mark((function e(){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Xt({studyName:t.STUDY.title});case 3:for(n=e.sent,x(!1),a=n.data.tasks,r=[],c=0;c<a.length;c++)r.push({key:[c],id:a[c]._id,createdBy:a[c].createdBy,dateCreated:Re()(a[c].dateCreated).format("MM-DD-YYYY HH:MM:SS"),lastUpdated:Re()(a[c].lastUpdated).format("MM-DD-YYYY HH:MM:SS"),deadline:Re()(a[c].deadline).format("MM-DD-YYYY HH:MM:SS"),taskTitle:a[c].tasksTitle,taskDescription:a[c].tasksDescription,assignee:a[c].assignee,status:a[c].status});i(r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[e.data]);var S=function(e){var t=s.filter((function(t){return t.key!==e}));i(t)};function T(){return(T=Object(u.a)(o.a.mark((function e(a){var r,c,u,l,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=s.filter((function(e){return"COMPLETED"===e.status})),c=(r.length+1)/s.length,u=Math.floor(100*c),e.next=6,tn({taskId:s[a||0].id,status:"COMPLETED",study:t.STUDY.studyID,progress:u,projectName:n.PROJECT.projectName});case 6:l=e.sent,k("info",l.data.message),(d=Object(ut.a)(s))[a]=Object(b.a)(Object(b.a)({},d[a]),{},{status:"COMPLETED"}),i(d),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),k("error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function D(){return(D=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cn({taskId:s[t||0].id,projectName:n.PROJECT.projectName});case 3:a=e.sent,S(t),k("info",a.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(A.jsx)("div",{children:f?Object(A.jsxs)("div",{className:"spinner",children:[Object(A.jsx)(O.a,{})," "]}):0===s.length?Object(A.jsx)(kt.a,{}):Object(A.jsx)("div",{children:Object(A.jsx)(_t.a,{accordion:!0,onChange:function(e){return C.apply(this,arguments)},children:s.map((function(e){return Object(A.jsx)(bn,{header:e.taskTitle,extra:"SUBMITTED"===e.status?Object(A.jsx)("div",{children:Object(A.jsx)(lt.a,{title:"Are you sure?",onConfirm:function(){return function(e){return T.apply(this,arguments)}(e.key)},children:Object(A.jsx)(Ae.a,{title:"Click to complete task!",placement:"leftTop",children:Object(A.jsx)(g.a,{disabled:"COMPLETED"===e.status,style:{background:"#A0BF85",borderRadius:"50px"},children:e.status})})})}):Object(A.jsxs)("div",{children:[Object(A.jsx)(g.a,{disabled:!0,children:e.status}),Object(A.jsx)(lt.a,{title:"Are you sure?",onConfirm:function(){return function(e){return D.apply(this,arguments)}(e.key)},children:Object(A.jsx)(Ae.a,{title:"Click to delete task!",placement:"leftTop",children:Object(A.jsx)(g.a,{danger:!0,icon:Object(A.jsx)(Tt.a,{})})})})]}),children:Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Task:"}),Object(A.jsx)("p",{children:e.taskDescription})]}),Object(A.jsxs)("div",{style:{display:"grid",margin:"0px"},children:[Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Date Created:"}),Object(A.jsx)("p",{children:e.dateCreated})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Last Updated:"}),Object(A.jsx)("p",{children:e.lastUpdated})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Deadline:"}),Object(A.jsx)("p",{children:e.deadline})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Assignee:"}),Object(A.jsx)("p",{children:e.assignee})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Adviser:"}),Object(A.jsx)("p",{children:e.createdBy})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Comments:"}),Object(A.jsx)(dn,{data:v})]})]})]})},e.key)}))})})})},hn=function(){var e=Object(j.c)((function(e){return e.project})),t=Object(j.c)((function(e){return e.study})),n=Object(j.c)((function(e){return e.user})),r=Me.a.Option,c=Object(a.useState)({title:"",description:"",deadline:"",assignee:"",projectName:e.PROJECT.projectName,studyName:t.STUDY.title,user:n.USER.name}),s=Object(l.a)(c,2),i=s[0],d=s[1],p=Object(a.useState)([]),f=Object(l.a)(p,2),O=f[0],x=f[1],m=Object(a.useState)(!1),w=Object(l.a)(m,2),k=w[0],C=w[1],S=Object(a.useState)(),T=Object(l.a)(S,2),D=T[0],E=T[1],I=function(e,t){h.a[e]({message:"Notification Title",description:t})};function N(){return(N=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wt(i);case 3:t=e.sent,I("info",t.data.message),d(Object(b.a)(Object(b.a)({},i),{},{title:"",description:"",deadline:"",assignee:""})),E(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),I("error",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt({study:t.STUDY.title});case 2:for(n=e.sent,a=n.data.studies[0].assignee,r=[],c=0;c<a.length;c++)r.push({key:a[c],name:a[c],value:a[c]});x(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.STUDY.title,t.STUDY.studyName]),Object(A.jsxs)("div",{children:[Object(A.jsx)(fn,{data:D}),Object(A.jsx)(Ae.a,{placement:"top",title:"Add Task",children:Object(A.jsx)(g.a,{style:{background:"#A0BF85",borderRadius:"50%",float:"right",height:"40px",marginTop:"10px"},onClick:function(){C(!0)},children:"+"})}),Object(A.jsx)(Pe.a,{title:"Add Task",visible:k,onOk:function(){C(!1),d(Object(b.a)(Object(b.a)({},i),{},{deadline:"",description:"",title:"",assignee:""}))},onCancel:function(){C(!1),d(Object(b.a)(Object(b.a)({},i),{},{deadline:"",description:"",title:"",assignee:""}))},children:Object(A.jsxs)(y.a,{onFinish:function(){return N.apply(this,arguments)},children:[Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Task Title is required."}],children:Object(A.jsx)(v.a,{placeholder:"Enter Task Title",onChange:function(e){return d(Object(b.a)(Object(b.a)({},i),{},{title:e.target.value}))},value:i.title})}),Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Task description is required."}],children:Object(A.jsx)(v.a,{placeholder:"Enter Task Description",onChange:function(e){return d(Object(b.a)(Object(b.a)({},i),{},{description:e.target.value}))},value:i.description})}),Object(A.jsxs)(y.a.Item,{rules:[{required:!0,message:"Please input deadline of task!"}],children:[Object(A.jsx)("label",{children:"Deadline"}),Object(A.jsx)(pn.b,{direction:"vertical",children:Object(A.jsx)(jn.a,{onChange:function(e){d(Object(b.a)(Object(b.a)({},i),{},{deadline:e}))}})})]}),Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Please assign task!"}],children:Object(A.jsx)(Me.a,{mode:"tags",style:{width:"100%"},onChange:function(e){d(Object(b.a)(Object(b.a)({},i),{},{assignee:e}))},tokenSeparators:[","],placeholder:"Assign Study",children:O.map((function(e){return Object(A.jsx)(r,{value:e.value,children:e.name},e.key)}))})}),Object(A.jsx)(g.a,{htmlType:"submit",style:{background:"#A0BF85",borderRadius:"5px"},children:"CREATE TASK"})]})})]})},On=_t.a.Panel,xn=function(){var e=Object(j.c)((function(e){return e.study})),t=Object(j.c)((function(e){return e.user})),n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),d=Object(l.a)(i,2),p=d[0],f=d[1],x=Object(a.useState)({task:"",length:3}),m=Object(l.a)(x,2),y=m[0],v=m[1],w=function(e,t){h.a[e]({message:"Notification Title",description:t})};function k(){return(k=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(c[t||0].id);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an({taskId:c[t||0].id,status:"SUBMITTED"});case 3:n=e.sent,w("info",n.data.message),(a=Object(ut.a)(c))[t]=Object(b.a)(Object(b.a)({},a[t]),{},{status:"SUBMITTED"}),s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function n(){return(n=Object(u.a)(o.a.mark((function n(){var a,r,c,i,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={studyName:e.STUDY.title,assignee:t.USER.name},f(!0),n.next=4,Vt(a);case 4:for(r=n.sent,c=r.data.tasks,i=[],u=0;u<c.length;u++)i.push({key:[u],id:c[u]._id,createdBy:c[u].createdBy,dateCreated:Re()(c[u].dateCreated).format("MM-DD-YYYY HH:MM:SS"),lastUpdated:Re()(c[u].lastUpdated).format("MM-DD-YYYY HH:MM:SS"),deadline:Re()(c[u].deadline).format("MM-DD-YYYY HH:MM:SS"),taskTitle:c[u].tasksTitle,taskDescription:c[u].tasksDescription,assignee:[c[u].assignee],status:c[u].status});s(i),f(!1);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e.STUDY.title,t.USER.name]),Object(A.jsx)("div",{children:"manager"===t.USER.category?Object(A.jsx)(hn,{}):Object(A.jsx)("div",{children:p?Object(A.jsxs)("div",{className:"spinner",children:[Object(A.jsx)(O.a,{})," "]}):0===c.length?Object(A.jsx)(kt.a,{}):Object(A.jsx)("div",{children:Object(A.jsx)(_t.a,{accordion:!0,onChange:function(e){return k.apply(this,arguments)},children:c.map((function(e){return Object(A.jsx)(On,{header:e.taskTitle,extra:"ONGOING"===e.status?Object(A.jsx)("div",{children:Object(A.jsx)(lt.a,{placement:"leftTop",title:"Continue to submit?",onConfirm:function(){return function(e){return C.apply(this,arguments)}(e.key)},children:Object(A.jsx)(g.a,{disabled:"SUBMITTED"===e.status,style:{background:"#A0BF85",borderRadius:"50px"},children:"ONGOING"===e.status?"Submit":"SUBMITTED"})})}):Object(A.jsx)(g.a,{disabled:!0,style:{background:"#A0BF85",borderRadius:"50px"},children:e.status}),children:Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Task:"}),Object(A.jsx)("p",{children:e.taskDescription})]}),Object(A.jsxs)("div",{style:{display:"grid",margin:"0px"},children:[Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Date Created:"}),Object(A.jsx)("p",{children:e.dateCreated})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Last Updated:"}),Object(A.jsx)("p",{children:e.lastUpdated})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Deadline:"}),Object(A.jsx)("p",{children:e.deadline})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Assignee:"}),Object(A.jsx)("p",{children:e.assignee})]}),Object(A.jsxs)("div",{style:{display:"flex",gap:"5px",lineHeight:"2px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Adviser:"}),Object(A.jsx)("p",{children:e.createdBy})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("label",{style:{fontWeight:"bold"},children:"Comments:"}),Object(A.jsx)(dn,{data:y})]})]})]})},e.key)}))})})})})},mn=n(549),yn=n(99),vn=(n(166),n(34)),gn=n(100),wn=n.n(gn),kn=function(){var e=Object(j.c)((function(e){return e.study})),t=Object(j.c)((function(e){return e.user})),n=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),r=Object(a.useState)(vn.EditorState.createEmpty()),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],x=s.getCurrentContent(),m=JSON.stringify(Object(vn.convertToRaw)(x)),y=wn()(Object(vn.convertToRaw)(x)),v=function(e,t){h.a[e]({message:"Notification",description:t})};function w(){return(w=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>","</body></html>",n="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent("<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>"+y+"</body></html>"),a=document.createElement("a"),document.body.appendChild(a),a.href=n,a.download="".concat(e.STUDY.title,"Introduction.doc"),a.click(),document.body.removeChild(a),v("success","Download Successful!")}catch(r){v("error","Download Failed!")}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te({studyID:e.STUDY.studyID,introduction:m,user:t.USER.name});case 3:v("success","Document Updated!"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),v("error","Error in saving document!");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=setTimeout((function(){k()}),1e4);return function(){return clearTimeout(e)}}),[s]),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),t.next=4,ue({studyID:e.STUDY.studyID});case 4:n=t.sent,f(!1),a=Object(vn.convertFromRaw)(JSON.parse(n.data.docs.introduction)),i(vn.EditorState.createWithContent(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),v("error","Error in displaying data!");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.STUDY.studyID]);return Object(A.jsx)("div",{children:b?Object(A.jsx)(O.a,{indicator:n,className:"spinner"}):Object(A.jsxs)("div",{style:{justifyContent:"space-between",flexDirection:"column",display:"flex"},children:[Object(A.jsx)("div",{style:{lineHeight:"20px"},children:Object(A.jsx)(yn.Editor,{editorState:s,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("POST","/v1/upload/documentation");var r=new FormData;r.append("file",e),a.send(r),a.addEventListener("load",(function(){var e=JSON.parse(a.responseText);t({data:{link:"/documentation/".concat(e.filename)}})})),a.addEventListener("error",(function(){var e=JSON.parse(a.responseText);n(e)}))}))},alt:{present:!0,mandatory:!0},previewImage:!0}},onEditorStateChange:function(e){i(e)}})}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",lineHeight:"20px",gap:"5px"},children:[Object(A.jsx)(g.a,{type:"primary",onClick:k,children:"Save"}),Object(A.jsx)(g.a,{type:"primary",onClick:function(){return w.apply(this,arguments)},children:"Download"})]})]})})},Cn=function(){var e=Object(j.c)((function(e){return e.study})),t=Object(j.c)((function(e){return e.user})),n=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),r=Object(a.useState)(vn.EditorState.createEmpty()),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],x=s.getCurrentContent(),m=JSON.stringify(Object(vn.convertToRaw)(x)),y=wn()(Object(vn.convertToRaw)(x)),v=function(e,t){h.a[e]({message:"Notification",description:t})};function w(){return(w=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>","</body></html>",n="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent("<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>"+y+"</body></html>"),a=document.createElement("a"),document.body.appendChild(a),a.href=n,a.download="".concat(e.STUDY.title,"Methodology.doc"),a.click(),document.body.removeChild(a),v("success","Download sucessful!")}catch(r){v("error","Download Failed!")}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ae({studyID:e.STUDY.studyID,methodology:m,user:t.USER.name});case 3:v("success","Document updated!"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),v("error","Error in saving document!");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=setTimeout((function(){k()}),3e3);return function(){return clearTimeout(e)}}),[s,e.STUDY.studyID,m,t.USER.name]),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),t.next=4,ue({studyID:e.STUDY.studyID});case 4:n=t.sent,f(!1),a=Object(vn.convertFromRaw)(JSON.parse(n.data.docs.methodology)),i(vn.EditorState.createWithContent(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),v("error","Error in displaying data!");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.STUDY.studyID]);return Object(A.jsx)("div",{children:b?Object(A.jsx)(O.a,{indicator:n,className:"spinner"}):Object(A.jsxs)("div",{style:{justifyContent:"space-between",flexDirection:"column",display:"flex"},children:[Object(A.jsx)("div",{style:{lineHeight:"20px"},children:Object(A.jsx)(yn.Editor,{editorState:s,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("POST","/v1/upload/documentation");var r=new FormData;r.append("file",e),a.send(r),a.addEventListener("load",(function(){var e=JSON.parse(a.responseText);t({data:{link:"/documentation/".concat(e.filename)}})})),a.addEventListener("error",(function(){var e=JSON.parse(a.responseText);n(e)}))}))},alt:{present:!0,mandatory:!0},previewImage:!0}},onEditorStateChange:function(e){i(e)}})}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",lineHeight:"20px",gap:"5px"},children:[Object(A.jsx)(g.a,{type:"primary",onClick:k,children:"Save"}),Object(A.jsx)(g.a,{type:"primary",onClick:function(){return w.apply(this,arguments)},children:"Download"})]})]})})},Sn=function(){var e=Object(j.c)((function(e){return e.study})),t=Object(j.c)((function(e){return e.user})),n=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),r=Object(a.useState)(vn.EditorState.createEmpty()),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],x=s.getCurrentContent(),m=JSON.stringify(Object(vn.convertToRaw)(x)),y=wn()(Object(vn.convertToRaw)(x)),v=function(e,t){h.a[e]({message:"Notification",description:t})};function w(){return(w=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>","</body></html>",n="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent("<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>"+y+"</body></html>"),a=document.createElement("a"),document.body.appendChild(a),a.href=n,a.download="".concat(e.STUDY.title,"Results.doc"),a.click(),document.body.removeChild(a),v("success","Download successful!")}catch(r){v("error","Download error!")}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ce({studyID:e.STUDY.studyID,resultsAndDiscussion:m,user:t.USER.name});case 3:v("success","Document Updated!"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),v("error","Error in saving document!");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=setTimeout((function(){k()}),3e3);return function(){return clearTimeout(e)}}),[s]),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),t.next=4,ue({studyID:e.STUDY.studyID});case 4:n=t.sent,f(!1),a=Object(vn.convertFromRaw)(JSON.parse(n.data.docs.resultsAndDiscussion)),i(vn.EditorState.createWithContent(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),v("error","Error in displaying data!");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.STUDY.studyID]);return Object(A.jsx)("div",{children:b?Object(A.jsx)(O.a,{indicator:n,className:"spinner"}):Object(A.jsxs)("div",{style:{justifyContent:"space-between",flexDirection:"column",display:"flex"},children:[Object(A.jsx)("div",{style:{lineHeight:"20px"},children:Object(A.jsx)(yn.Editor,{editorState:s,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("POST","/v1/upload/documentation");var r=new FormData;r.append("file",e),a.send(r),a.addEventListener("load",(function(){var e=JSON.parse(a.responseText);t({data:{link:"/documentation/".concat(e.filename)}})})),a.addEventListener("error",(function(){var e=JSON.parse(a.responseText);n(e)}))}))},alt:{present:!0,mandatory:!0},previewImage:!0}},onEditorStateChange:function(e){i(e)}})}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",lineHeight:"20px",gap:"5px"},children:[Object(A.jsx)(g.a,{type:"primary",onClick:k,children:"Save"}),Object(A.jsx)(g.a,{type:"primary",onClick:function(){return w.apply(this,arguments)},children:"Download"})]})]})})},Tn=function(){var e=Object(j.c)((function(e){return e.study})),t=Object(j.c)((function(e){return e.user})),n=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),r=Object(a.useState)(vn.EditorState.createEmpty()),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)(!1),p=Object(l.a)(d,2),b=p[0],f=p[1],x=s.getCurrentContent(),m=JSON.stringify(Object(vn.convertToRaw)(x)),y=wn()(Object(vn.convertToRaw)(x)),v=function(e,t){h.a[e]({message:"Notification",description:t})};function w(){return(w=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{"<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>","</body></html>",n="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent("<html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'><head><meta charset='utf-8'><title>Export HTML to Word Document with JavaScript</title></head><body>"+y+"</body></html>"),a=document.createElement("a"),document.body.appendChild(a),a.href=n,a.download="".concat(e.STUDY.title,"Conclusion.doc"),a.click(),document.body.removeChild(a),v("success","Download successful!")}catch(r){v("error","Download Failed!")}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ie({studyID:e.STUDY.studyID,conclusion:m,user:t.USER.name});case 3:v("success","Document Updated!"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),v("error","Error in updating document!");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=setTimeout((function(){k()}),3e3);return function(){return clearTimeout(e)}}),[s]),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,f(!0),t.next=4,ue({studyID:e.STUDY.studyID});case 4:n=t.sent,f(!1),a=Object(vn.convertFromRaw)(JSON.parse(n.data.docs.conclusion)),i(vn.EditorState.createWithContent(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),v("error","Error in displaying data!");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.STUDY.studyID]);return Object(A.jsx)("div",{children:b?Object(A.jsx)(O.a,{indicator:n,className:"spinner"}):Object(A.jsxs)("div",{style:{justifyContent:"space-between",flexDirection:"column",display:"flex"},children:[Object(A.jsx)("div",{style:{lineHeight:"20px"},children:Object(A.jsx)(yn.Editor,{editorState:s,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",toolbar:{inline:{inDropdown:!0},list:{inDropdown:!0},textAlign:{inDropdown:!0},link:{inDropdown:!0},history:{inDropdown:!0},image:{uploadCallback:function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("POST","/v1/upload/documentation");var r=new FormData;r.append("file",e),a.send(r),a.addEventListener("load",(function(){var e=JSON.parse(a.responseText);t({data:{link:"/documentation/".concat(e.filename)}})})),a.addEventListener("error",(function(){var e=JSON.parse(a.responseText);n(e)}))}))},alt:{present:!0,mandatory:!0},previewImage:!0}},onEditorStateChange:function(e){i(e)}})}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",lineHeight:"20px",gap:"5px"},children:[Object(A.jsx)(g.a,{type:"primary",onClick:k,children:"Save"}),Object(A.jsx)(g.a,{type:"primary",onClick:function(){return w.apply(this,arguments)},children:"Download"})]})]})})},Dn=(n(525),function(){var e=Object(a.useState)(vn.EditorState.createEmpty()),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(null),s=Object(a.useState)({}),i=Object(l.a)(s,2),d=i[0],p=i[1],f=Object(a.useState)([]),x=Object(l.a)(f,2),m=x[0],y=x[1],w=Object(a.useState)(!0),k=Object(l.a)(w,2),C=k[0],S=k[1],T=Object(a.useState)(!0),D=Object(l.a)(T,2),E=D[0],I=D[1],N=Object(a.useState)(!1),R=Object(l.a)(N,2),Y=R[0],U=R[1],M=Object(j.c)((function(e){return e.study})),P=Object(j.c)((function(e){return e.user})),H=n.getCurrentContent(),F=JSON.stringify(Object(vn.convertToRaw)(H)),L=Object(A.jsx)(Et.a,{style:{fontSize:24},spin:!0}),B=function(e,t){h.a[e]({message:"Notification",description:t})};function _(){return(_=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z({studyID:M.STUDY.studyID,summary:F,user:P.USER.name,title:d.studyTitle,budget:d.budget});case 3:S(!0),I(!0),B("success","Document updated!"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),B("error","Error in updating document!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),e.next=4,de({studyID:M.STUDY.studyID});case 4:for(t=e.sent,U(!1),p(t.data.study[0]),n=[t.data.study[0].assignee],a=[],c=0;c<n.length;c++)a.push({assignee:n[c]});y(a),s=Object(vn.convertFromRaw)(JSON.parse(t.data.study[0].summary)),r(vn.EditorState.createWithContent(s)),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[M.STUDY.studyID]),Object(A.jsx)("div",{children:Y?Object(A.jsx)(O.a,{indicator:L,className:"spinner"}):Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsx)("label",{style:{fontWeight:"bolder",marginTop:"4px"},children:"Title: "}),Object(A.jsx)(v.a,{bordered:!1,disabled:E,value:d.studyTitle,onChange:function(e){return p(Object(b.a)(Object(b.a)({},d),{},{studyTitle:e.target.value}))}})]}),Object(A.jsxs)("div",{style:{display:"inline-grid",left:"0px"},children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Summary:"}),Object(A.jsx)("div",{onClick:function(){c.current.focus()},children:Object(A.jsx)(vn.Editor,{readOnly:C,ref:c,editorState:n,onChange:function(e){return r(e)}})})]}),Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsx)("label",{style:{fontWeight:"bolder",marginTop:"4px"},children:"Budget: "}),Object(A.jsx)(v.a,{bordered:!1,disabled:E,value:d.budget,onChange:function(e){return p(Object(b.a)(Object(b.a)({},d),{},{budget:e.target.value}))}})]}),Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Duration: "}),Object(A.jsxs)("p",{children:[Re()(d.dateCreated).format("MM-DD-YYYY")," to ",Re()(d.deadline).format("MM-DD-YYYY")]})]}),Object(A.jsxs)("div",{className:"div-flex",children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Person Involved: "}),m.map((function(e){return Object(A.jsx)("p",{children:e.assignee})}))]}),Object(A.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",lineHeight:"20px",gap:"5px"},children:[Object(A.jsx)(g.a,{type:"primary",onClick:function(){return _.apply(this,arguments)},children:"Save"}),Object(A.jsx)(g.a,{type:"primary",onClick:function(){S(!1),"user"===P.USER.category?I(!0):I(!1)},children:"Update"})]})," "]})})}),En=mn.a.TabPane,In=function(){return Object(A.jsx)("div",{className:"card-container",children:Object(A.jsxs)(mn.a,{type:"card",children:[Object(A.jsx)(En,{tab:"Summary",children:Object(A.jsx)(Dn,{})},"1"),Object(A.jsx)(En,{tab:"Introduction",children:Object(A.jsx)(kn,{})},"2"),Object(A.jsx)(En,{tab:"Methodology",children:Object(A.jsx)(Cn,{})},"3"),Object(A.jsx)(En,{tab:"Results and Discussion",children:Object(A.jsx)(Sn,{})},"4"),Object(A.jsx)(En,{tab:"Conclusion",children:Object(A.jsx)(Tn,{})},"5")]})})},Nn=f.a.Title,Rn=function(){var e=H.a.Header,t=H.a.Content,n=H.a.Sider,a=Object(j.c)((function(e){return e.user}));return Object(A.jsx)("div",{className:"mobile-study-dash",children:Object(A.jsxs)(H.a,{children:[Object(A.jsx)(n,{className:"sidebar",children:Object(A.jsx)(z,{})}),Object(A.jsxs)(H.a,{children:[Object(A.jsx)(e,{className:"header",children:Object(A.jsx)(q,{})}),Object(A.jsx)("div",{className:"mobile-header",children:"user"===a.USER.category?Object(A.jsx)(Ue,{}):Object(A.jsx)(ot,{})}),Object(A.jsxs)(t,{style:{minWidth:"100vh",background:"#f2f2f2",marginLeft:"5px",minHeight:"100vh"},children:[Object(A.jsx)(vt,{}),Object(A.jsxs)("div",{style:{marginTop:"5px"},children:[Object(A.jsx)(In,{}),Object(A.jsx)(Nn,{level:2,children:"Tasks"}),Object(A.jsx)(xn,{}),Object(A.jsx)(Bt,{})]})]})]})]})})},Yn=f.a.Title,Un=function(){var e=H.a.Header,t=H.a.Content,n=H.a.Sider,a=Object(j.c)((function(e){return e.user}));return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"study-dash",children:Object(A.jsxs)(H.a,{children:[Object(A.jsx)(n,{className:"sidebar",children:"user"===a.USER.category?Object(A.jsx)(z,{}):Object(A.jsx)(st,{})}),Object(A.jsxs)(H.a,{children:[Object(A.jsx)(e,{className:"header",style:{padding:0,background:"#f2f2f2"},children:Object(A.jsx)(q,{})}),Object(A.jsx)("div",{className:"mobile-header",children:"user"===a.USER.category?Object(A.jsx)(Ue,{}):Object(A.jsx)(ot,{})}),Object(A.jsxs)(t,{style:{margin:"24px 16px 0",minHeight:"100vh"},children:[Object(A.jsx)(vt,{}),Object(A.jsxs)(x.a,{gutter:16,children:[Object(A.jsx)(m.a,{span:12,style:{overflowY:"scroll"},children:Object(A.jsx)(In,{})}),Object(A.jsxs)(m.a,{span:12,style:{overflowY:"scroll",height:"740px"},children:[Object(A.jsx)(Yn,{level:2,children:"Tasks"}),Object(A.jsx)(xn,{})]})]}),Object(A.jsx)(Bt,{})]})]})]})}),Object(A.jsx)(Rn,{})]})},Mn=n(188),An=["component"];var Pn=function(e){var t=e.component,n=Object(Mn.a)(e,An);return Object(A.jsx)(p.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return n.isAuthenticated?Object(A.jsx)(t,Object(b.a)({},e)):Object(A.jsx)(p.a,{to:{pathname:"/"}})}}))},Hn=["component"];var Fn=function(e){var t=e.component,n=Object(Mn.a)(e,Hn);return Object(A.jsx)(p.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return n.isAuthenticated?Object(A.jsx)(p.a,{to:{pathname:"/dash"}}):Object(A.jsx)(t,Object(b.a)({},e))}}))},Ln=(n(281),function(){var e=Object(j.c)((function(e){return e.user})),t=Object(a.useState)({oldPassword:"",newPassword:"",confrimPassword:""}),n=Object(l.a)(t,2),r=n[0],c=n[1],s=f.a.Title,i=function(e,t){h.a[e]({message:"Notification",description:t})};function d(){return(d=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n={id:e.USER._id,newPass:r.newPassword,oldPass:r.oldPassword},r.newPassword===r.confrimPassword){t.next=6;break}i("error","Password does not match!"),t.next=10;break;case 6:return t.next=8,qe(n);case 8:i("success","Password Updated!"),c({oldPassword:"",newPassword:"",confrimPassword:""});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),i("error","Invalid Password!");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}return Object(A.jsxs)(y.a,{style:{borderRadius:"10px",background:"white",fontFamily:"Montserrat",display:"grid",justifyItems:"center"},onFinish:function(){return d.apply(this,arguments)},children:[Object(A.jsx)(s,{level:3,children:"Change Password"}),Object(A.jsxs)(y.a.Item,{style:{maxWidth:"50%",margin:"0px"},rules:[{required:!0,message:"Please enter your current password!"}],children:[Object(A.jsx)("label",{children:"Current Password"}),Object(A.jsx)(v.a.Password,{placeholder:"Current Password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{oldPassword:e.target.value}))},value:r.oldPassword})]}),Object(A.jsxs)(y.a.Item,{style:{maxWidth:"50%",margin:"0px"},rules:[{required:!0,message:"Please input your new password!"}],children:[Object(A.jsx)("label",{children:"New Password"}),Object(A.jsx)(v.a.Password,{placeholder:"New Password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{newPassword:e.target.value}))},value:r.newPassword})]}),Object(A.jsxs)(y.a.Item,{style:{maxWidth:"50%",marginTop:"0px"},rules:[{required:!0,message:"Please confirm your new password!"}],children:[Object(A.jsx)("label",{children:"Confirm Password"}),Object(A.jsx)(v.a.Password,{placeholder:"Confirm New Password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{confrimPassword:e.target.value}))},value:r.confrimPassword})]}),Object(A.jsx)(y.a.Item,{children:Object(A.jsx)(g.a,{htmlType:"submit",style:{background:"#A0BF85",borderRadius:"5px"},children:"SUBMIT"})})]})}),Bn=H.a.Header,_n=H.a.Content,Wn=H.a.Sider,Gn=function(){var e=Object(j.c)((function(e){return e.user})),t=Object(a.useState)(),n=Object(l.a)(t,2),r=n[0],c=n[1],s=f.a.Title,i=localStorage.getItem("avatarFilename");return Object(A.jsx)("div",{children:Object(A.jsxs)(H.a,{children:[Object(A.jsx)(Wn,{className:"sidebar",children:"user"===e.USER.category?Object(A.jsx)(z,{}):Object(A.jsx)(st,{})}),Object(A.jsxs)(H.a,{children:[Object(A.jsx)(Bn,{className:"header",children:Object(A.jsx)(q,{})}),Object(A.jsx)("div",{className:"mobile-header",children:"user"===e.USER.category?Object(A.jsx)(Ue,{}):Object(A.jsx)(ot,{})}),Object(A.jsx)(_n,{className:"content",children:Object(A.jsx)("div",{className:"content-col",children:Object(A.jsxs)(x.a,{style:{gap:"10px"},children:[Object(A.jsx)("div",{style:{borderRadius:"10px",background:"white",fontFamily:"Montserrat"},children:Object(A.jsxs)(x.a,{style:{marginTop:"10px",marginLeft:"10px",justifyContent:"center",alignItems:"center",margintTop:"20px",display:"flex",gap:"20px",marginRight:"20px",marginBottom:"20px"},children:[Object(A.jsxs)("div",{style:{marginLeft:"10px",marginTop:"15px",display:"grid"},children:[Object(A.jsx)(un.a,{src:r||"/avatar/".concat(i),size:128,icon:Object(A.jsx)(J.a,{})}),Object(A.jsx)("label",{for:"file_input_id",style:{marginLeft:"20px"},children:"Upload Photo"}),Object(A.jsx)("input",{type:"file",id:"file_input_id",accept:"image/*",onChange:function(){var t=Object(u.a)(o.a.mark((function t(n){var a,r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.files[0],(r=new FileReader).addEventListener("load",(function(){c(r.result)})),r.readAsDataURL(a),(s=new FormData).append("user",e.USER._id),s.append("file",a),t.next=9,Ut(s);case 9:i=t.sent,localStorage.setItem("avatarFilename",i.data.user.avatarFilename),o="info",u=i.data.message,h.a[o]({message:"Notification Title",description:u});case 12:case"end":return t.stop()}var o,u}),t)})));return function(e){return t.apply(this,arguments)}}()})]}),Object(A.jsxs)("div",{style:{justifyContent:"center",display:"grid",alignItems:"center"},children:[Object(A.jsx)(s,{style:{margin:"0px"},level:3,children:e.USER.name}),Object(A.jsx)("p",{style:{margin:"0px"},children:e.USER.title}),Object(A.jsx)("p",{style:{margin:"0px"},children:e.USER.project}),Object(A.jsx)("p",{style:{margin:"0px"},children:e.USER.email})]})]})}),Object(A.jsx)("div",{children:Object(A.jsx)(Ln,{})})]})})})]})]})})},Jn=n(149),zn=function(){var e=Me.a.Option,t=Object(a.useState)({name:"",email:"",project:"",title:"",password:"",category:""}),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),d=i[0],p=i[1],j=function(e,t){h.a[e]({message:"Notification",description:t})};Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:for(t=e.sent,n=t.data,a=[],r=0;r<n.length;r++)a.push({key:n[r].projectName,name:n[r].projectName,value:n[r].projectName});p(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);function f(){return(f=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze(r);case 3:t=e.sent,j("success",t.data.message),c({name:"",email:"",project:"",title:"",password:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j("error",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(A.jsx)("div",{children:Object(A.jsx)(x.a,{justify:"center",style:{minHeight:"100vh",background:"#f2f2f2"},children:Object(A.jsxs)(y.a,{children:[Object(A.jsx)("h1",{style:{fontFamily:"Montserrat",fontWeight:"bolder"},children:"SIGN UP"}),Object(A.jsx)(y.a.Item,{name:"Name",rules:[{required:!0,message:"Please input your name!"}],children:Object(A.jsx)(v.a,{placeholder:"Enter Name",onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{name:e.target.value}))},value:r.name})}),Object(A.jsx)(y.a.Item,{name:"Email",rules:[{type:"email",required:!0,message:"Please input your email!"}],children:Object(A.jsx)(v.a,{placeholder:"Enter Email",onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{email:e.target.value}))},value:r.email})}),Object(A.jsx)(y.a.Item,{name:"Project",rules:[{required:!0,message:"Please input your project!"}],children:Object(A.jsx)(Me.a,{defaultValue:d[0],onChange:function(e){c(Object(b.a)(Object(b.a)({},r),{},{project:e}))},placeholder:"Project",children:d.map((function(t){return Object(A.jsx)(e,{value:t.value,children:t.name},t.key)}))})}),Object(A.jsx)(y.a.Item,{name:"Title",rules:[{required:!0,message:"Please input your title!"}],children:Object(A.jsx)(v.a,{placeholder:"Enter Title",onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{title:e.target.value}))},value:r.title})}),Object(A.jsxs)(y.a.Item,{name:"Category",rules:[{required:!0,message:"Please select category!"}],children:[Object(A.jsx)("label",{children:"Category: "}),Object(A.jsx)(Jn.a,{onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{category:e.target.checked?"user":""}))},value:"user",children:"User"}),Object(A.jsx)(Jn.a,{onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{category:e.target.checked?"manager":""}))},value:"manager",children:"Manager"}),Object(A.jsx)(Jn.a,{onChange:function(e){return c(Object(b.a)(Object(b.a)({},r),{},{category:e.target.checked?"director":""}))},value:"director",children:"Director"})]}),Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsx)(g.a,{onClick:function(){return f.apply(this,arguments)},style:{background:"#A0BF85",borderRadius:"5px"},children:"CREATE USER"})})]})})})};var Vn=function(e,t){h.a[e]({message:"Notification",description:t})},qn=function(){var e=Object(p.g)(),t=Object(j.b)(),n=f.a.Title,r=Object(a.useState)({email:""}),c=Object(l.a)(r,2),s=c[0],i=c[1];function d(){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke(s);case 3:Vn("info","password reset link already sent to your email"),i({email:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Vn("error",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{e.push("/")}catch(a){t({type:"GET_ERRORS",message:a.response.data.message,status:a.response.status})}case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var m=function(){var e=Object(a.useState)([window.innerHeight,window.innerWidth]),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){r([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}(),k=Object(l.a)(m,2),C=k[0],S=k[1];return C<=760&&S<=768?Object(A.jsx)("div",{style:{background:"#f2f2f2",minHeight:"100vh"},children:Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsxs)(y.a,{style:{marginTop:"20%",width:"400px"},children:[Object(A.jsx)(n,{level:4,style:{fontFamily:"Bangla MN",fontWeight:"bolder"},children:"Need help with your password?"}),Object(A.jsx)("p",{children:"Enter the email you use for Virtual Research Management System, and we\u2019ll help you create a new password."}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(v.a,{placeholder:"Enter Email",prefix:Object(A.jsx)(w.a,{}),onChange:function(e){return i({email:e.target.value})},value:s.email})]}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(g.a,{block:!0,style:{background:"#A0BF85",borderRadius:"5px"},onClick:d,children:"SUBMIT"})]}),Object(A.jsx)(g.a,{type:"link",block:!0,style:{fontFamily:"Montserrat",color:"#000000"},onClick:h,children:"LOGIN"})]})})}):Object(A.jsx)("div",{style:{background:"#f2f2f2",minHeight:"100vh"},children:Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsxs)(y.a,{style:{marginTop:"10%"},children:[Object(A.jsx)(n,{level:2,style:{fontFamily:"Bangla MN",fontWeight:"bolder"},children:"Need help with your password?"}),Object(A.jsx)("p",{children:"Enter the email you use for Virtual Research Management System, and we\u2019ll help you create a new password."}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(v.a,{placeholder:"Enter Email",prefix:Object(A.jsx)(w.a,{}),onChange:function(e){return i({email:e.target.value})},value:s.email})]}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(g.a,{block:!0,style:{background:"#A0BF85",borderRadius:"5px"},onClick:d,children:"SUBMIT"})]}),Object(A.jsx)(g.a,{type:"link",block:!0,style:{fontFamily:"Montserrat",color:"#000000"},onClick:h,children:"LOGIN"})]})})})},Xn=n(293),Kn=function(){var e=Object(p.g)(),t=f.a.Title,n=Object(a.useState)({newPassword:"",confirmPassword:""}),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Xn.parse(window.location.search),d=i&&i.token?i.token:void 0,j=function(e,t){h.a[e]({message:"Notification",description:t})};function O(){return(O=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.newPassword,a=c.confirmPassword,t.prev=2,n===a){t.next=7;break}j("error","Password does not match!"),t.next=11;break;case 7:return t.next=9,et(d,c);case 9:j("info","Password Updated"),e.push("/");case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),j("error","Link already expired!"),e.push("/");case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(d);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}void 0===d?e.push("/"):function(){t.apply(this,arguments)}()}),[d,e]),Object(A.jsx)("div",{style:{background:"#f2f2f2",minHeight:"100vh"},children:Object(A.jsx)(x.a,{justify:"center",children:Object(A.jsxs)(y.a,{style:{marginTop:"20%"},children:[Object(A.jsx)(t,{level:2,style:{fontFamily:"Bangla MN",fontWeight:"bolder"},children:"Password Reset"}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(v.a.Password,{placeholder:"Enter new password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return s(Object(b.a)(Object(b.a)({},c),{},{newPassword:e.target.value}))},value:c.newPassword})]}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(v.a.Password,{placeholder:"Confirm new password",iconRender:function(e){return e?Object(A.jsx)(k.a,{}):Object(A.jsx)(C.a,{})},onChange:function(e){return s(Object(b.a)(Object(b.a)({},c),{},{confirmPassword:e.target.value}))},value:c.confirmPassword})]}),Object(A.jsxs)(y.a.Item,{children:[" ",Object(A.jsx)(g.a,{block:!0,style:{background:"#A0BF85",borderRadius:"5px"},onClick:function(){return O.apply(this,arguments)},children:"SUBMIT"})]})]})})})},$n=n(553),Qn=function(e){var t=Object(j.b)(),n=Object(p.g)(),r=Object(j.c)((function(e){return e.project})),c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],d=s[1],b=Object(a.useState)(!1),f=Object(l.a)(b,2),x=f[0],m=f[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(r.PROJECT);case 2:for(t=e.sent,m(!0),n=t.data,a=[],c=0;c<n.length;c++)a.push({key:n[c],title:n[c].studyTitle,studyID:n[c].studyID,dateCreated:Re()(n[c].dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(n[c].dateUpdated).format("MM-DD-YYYY"),progress:n[c].progress,status:[n[c].status]});d(a),m(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r.PROJECT]),Object(a.useEffect)((function(){null!==e.data&&void 0!==e.data&&""!==e.data&&d([].concat(Object(ut.a)(i),[{key:i.length+1,studyID:e.data.studyID,title:e.data.studyTitle,dateCreated:Re()(e.data.dateCreated).format("MM-DD-YYYY"),dateUpdated:Re()(e.data.dateUpdated).format("MM-DD-YYYY"),status:[e.data.status],progress:e.data.progress}]))}),[e.data]);var y=function(e){var t=i.filter((function(t){return t.key!==e}));d(t)},v=[{title:"Study ID",dataIndex:"studyID",key:"studyID",width:"10%",defaultSortOrder:"descend",sorter:function(e,t){return e.studyno-t.studyno}},{title:"Date Created",dataIndex:"dateCreated",key:"dateCreated",width:"15%"},{title:"Updated",dataIndex:"dateUpdated",key:"dateUpdated",width:"15%"},{title:"Title",dataIndex:"title",key:"title",width:"25%",ellipsis:!0},{title:"Progress",dataIndex:"progress",key:"progress",width:"10%",render:function(e){return Object(A.jsx)("span",{children:Object(A.jsx)(F.a,{percent:e,size:"small"})})}},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Completed",value:"COMPLETED"},{text:"Ongoing",value:"ONGOING"}],onFilter:function(e,t){return 0===t.status.indexOf(e)},width:"10%",render:function(e){return Object(A.jsx)("span",{children:e.map((function(e){var t="Ongoing"===e?"geekblue":"green";return Object(A.jsx)(L.a,{color:t,children:e.toUpperCase()},e)}))})}},{title:"Action",dataIndex:"action",key:"action",width:"20%",render:function(e,a,r){return Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"5px"},children:[Object(A.jsx)(g.a,{onClick:function(e){t({type:"SET_STUDY",value:a}),n.push("/datagrid")},className:"manageBtn",children:"MANAGE"}),Object(A.jsx)(lt.a,{title:"Sure to delete?",onConfirm:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={_id:a.key._id},e.next=3,Ee(n);case 3:return r=e.sent,e.next=6,y(a.key);case 6:t="error",c=r.data.message,h.a[t]({message:"Notification",description:c});case 7:case"end":return e.stop()}var t,c}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(A.jsx)(g.a,{danger:!0,children:"DELETE"})})]})}}];return Object(A.jsx)("div",{children:x?Object(A.jsx)(O.a,{className:"spinner"}):Object(A.jsx)(B.a,{size:"small",scroll:{x:1500,y:500},dataSource:i,columns:v,style:{margin:"15px"}})})},Zn=H.a.Header,ea=H.a.Content,ta=H.a.Sider,na=function(){var e=Me.a.Option,t=Object(j.c)((function(e){return e.project})),n=Object(j.c)((function(e){return e.user})),r=Object(a.useState)([]),c=Object(l.a)(r,2),s=c[0],i=c[1],d=Object(a.useState)({title:"",projectName:t.PROJECT.projectName,deadline:"",assignee:"",budget:"",user:n.USER.name}),p=Object(l.a)(d,2),f=p[0],O=p[1],x=Object(a.useState)(),m=Object(l.a)(x,2),w=m[0],k=m[1],C=Object(a.useState)(!1),S=Object(l.a)(C,2),T=S[0],D=S[1],E=function(e,t){h.a[e]({message:"Notification",description:t})};function I(){return(I=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(f);case 3:t=e.sent,E("success",t.data.message),O({title:"  ",projectName:" ",deadline:" ",assignee:" "}),k(t.data.newStudy),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E("error",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:for(t=e.sent,n=t.data,a=[],r=0;r<n.length;r++)a.push({key:n[r].name,name:n[r].name,value:n[r].name});i(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(A.jsx)("div",{children:Object(A.jsxs)(H.a,{children:[Object(A.jsx)(ta,{className:"sidebar",children:Object(A.jsx)(st,{})}),Object(A.jsxs)(H.a,{children:[Object(A.jsx)(Zn,{className:"header",style:{padding:0,background:"#f2f2f2"},children:Object(A.jsx)(q,{})}),Object(A.jsx)("div",{className:"mobile-header",children:Object(A.jsx)(ot,{})}),Object(A.jsxs)(ea,{style:{minHeight:"200vh",minWidth:"100vh",background:"#f2f2f2"},children:[Object(A.jsx)("h3",{style:{marginTop:"10px",marginLeft:"25px",fontFamily:"initial"},children:t.PROJECT.projectName}),Object(A.jsx)(Qn,{data:w}),Object(A.jsx)(Ae.a,{placement:"top",title:"Add Study",children:Object(A.jsx)(g.a,{className:"add-button",onClick:function(){D(!0)},children:"+"})}),Object(A.jsx)(Pe.a,{title:"Add Study",visible:T,onOk:function(){D(!1)},onCancel:function(){D(!1)},children:Object(A.jsxs)(y.a,{children:[Object(A.jsx)("h1",{style:{fontFamily:"Montserrat",fontWeight:"bolder"},children:"CREATE STUDY"}),Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Please input your title!"}],children:Object(A.jsx)(v.a,{placeholder:"Enter Title",onChange:function(e){return O(Object(b.a)(Object(b.a)({},f),{},{title:e.target.value}))},value:f.title})}),Object(A.jsxs)(y.a.Item,{rules:[{required:!0,message:"Please enter budget!"}],children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Budget: "}),Object(A.jsx)($n.a,{style:{width:"250px"},placeholder:"Enter Budget",min:1,max:1e9,formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},onChange:function(e){O(Object(b.a)(Object(b.a)({},f),{},{budget:e}))}})]}),Object(A.jsxs)(y.a.Item,{rules:[{required:!0,message:"Please input deadline of study!"}],children:[Object(A.jsx)("label",{style:{fontWeight:"bolder"},children:"Deadline: "}),Object(A.jsx)(pn.b,{direction:"vertical",children:Object(A.jsx)(jn.a,{onChange:function(e){O(Object(b.a)(Object(b.a)({},f),{},{deadline:e}))}})})]}),Object(A.jsx)(y.a.Item,{rules:[{required:!0,message:"Please assign the study!"}],children:Object(A.jsx)(Me.a,{mode:"tags",style:{width:"100%"},onChange:function(e){O(Object(b.a)(Object(b.a)({},f),{},{assignee:e}))},tokenSeparators:[","],placeholder:"Assign Study",children:s.map((function(t){return Object(A.jsx)(e,{value:t.value,children:t.name},t.key)}))})}),Object(A.jsx)(g.a,{onClick:function(){return I.apply(this,arguments)},style:{background:"#A0BF85",borderRadius:"5px"},children:"CREATE STUDY"})]})})]})]})]})})},aa=n(558),ra=function(){var e=Object(p.g)();return Object(A.jsx)("div",{children:Object(A.jsx)(aa.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(A.jsx)(g.a,{type:"primary",onClick:function(){return e.push("/")},children:"Back to Login"})})})};var ca=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.auth})),n=Object(j.c)((function(e){return e.error})),r=Object(a.useState)(!0),c=Object(l.a)(r,2),s=c[0],i=c[1],b=t.AUTHENTICATED;return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,I();case 3:t.sent.error?e({type:"VERIFIED_AUTHENTICATION",value:!1}):e({type:"VERIFIED_AUTHENTICATION",value:!0});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),i(!1)}),[e]),Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),n={refreshToken:localStorage.getItem("refreshToken")},t.next=4,U(n);case 4:200===(a=t.sent).status?(localStorage.setItem("accessToken",a.data.accessToken),e({type:"SET_USER",value:a.data.user.user}),e({type:"VERIFIED_AUTHENTICATION",value:!0})):e({type:"AUTH_ERROR"});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),i(!1)}),[n,e]),Object(a.useEffect)((function(){if(!0===s)return Object(A.jsx)(O.a,{style:{display:"flex",justifyContent:"center",padding:"25%"}})}),[s]),Object(A.jsx)(d.a,{children:Object(A.jsxs)(p.d,{children:[Object(A.jsx)(Fn,{path:"/",exact:!0,component:P,isAuthenticated:b}),Object(A.jsx)(Fn,{path:"/forgotpassword",exact:!0,component:qn,isAuthenticated:b}),Object(A.jsx)(Fn,{path:"/reset-password/",exact:!0,component:Kn,isAuthenticated:b}),Object(A.jsx)(Fn,{path:"/secretcreateuser",exact:!0,component:zn,isAuthenticated:b}),Object(A.jsx)(Pn,{path:"/dash",exact:!0,component:mt,isAuthenticated:b}),Object(A.jsx)(Pn,{path:"/studies",exact:!0,component:na,isAuthenticated:b}),Object(A.jsx)(Pn,{path:"/datagrid",exact:!0,component:Un,isAuthenticated:b}),Object(A.jsx)(Pn,{path:"/account",exact:!0,component:Gn,isAuthenticated:b}),Object(A.jsx)(p.b,{path:"*",children:Object(A.jsx)(ra,{})}),Object(A.jsx)(p.a,{to:b?"/".concat(window.location.pathname):"/"})]})})},sa=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,574)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ia=n(138),oa={AUTHENTICATED:!1,accessToken:localStorage.getItem("accessToken"),refreshToken:localStorage.getItem("refreshToken"),LOADING:!1,USER:null},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VERIFIED_AUTHENTICATION":return Object(b.a)(Object(b.a)({},e),{},{AUTHENTICATED:t.value});case"AUTH_ERROR":case"LOGIN_FAIL":return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),Object(b.a)(Object(b.a)({},e),{},{AUTHENTICATED:!1,accessToken:null,refreshToken:null,USER:null,LOADING:!1});default:return e}},la={USER:""},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(b.a)(Object(b.a)({},e),{},{USER:t.value});default:return e}},pa={message:{},status:null},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{message:t.message,status:t.status};case"CLEAR_ERRORS":return{message:{},status:null};default:return e}},ba={STUDY:""},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STUDY":return Object(b.a)(Object(b.a)({},e),{},{STUDY:t.value});default:return e}},ha={PROJECT:""},Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROJECT":return Object(b.a)(Object(b.a)({},e),{},{PROJECT:t.value});default:return e}},xa=Object(ia.combineReducers)({auth:ua,user:da,error:ja,study:fa,project:Oa}),ma=n(294),ya=Object(ia.createStore)(xa,Object(ma.composeWithDevTools)());s.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(j.a,{store:ya,children:Object(A.jsx)(ca,{})})}),document.getElementById("root")),sa()}},[[540,1,2]]]);
//# sourceMappingURL=main.b8e282dc.chunk.js.map